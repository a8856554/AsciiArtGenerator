{"version":3,"sources":["conponent/ListsRecursion.jsx","image/favicon_io/favicon.ico","conponent/AuthContext.jsx","api/ascii-art-generator-api.js","conponent/LoginIcon.jsx","conponent/AppBar.jsx","pages/CreatePostsPage.jsx","conponent/LoadingIcon.jsx","pages/Image2AsciiartPage.jsx","conponent/SearchInput.jsx","conponent/AsciiCard.jsx","conponent/AsciiCardColumn.jsx","conponent/TwoLabelSwitch.jsx","pages/HomePage.jsx","conponent/AppBarConfig.jsx","pages/LoginPage.jsx","pages/RegisterPage.jsx","conponent/Footer.jsx","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","nested_0","paddingLeft","spacing","nested_1","nested_2","ListsRecursion","props","childLists","map","listObject","index","ExpandableList","selectedListName","setSelectedListName","setBarName","level","mainName","classes","React","useState","listOpen","setListOpen","ListItem","button","className","value","route","component","Link","to","selected","name","onClick","listName","length","ListItemIcon","icon","ListItemText","primary","Collapse","in","timeout","unmountOnExit","List","disablePadding","Divider","authContext","createContext","axiosClient","axios","create","baseURL","login","user_name","password","a","url","console","log","config","withCredentials","requestBody","post","register","refreshAccessToken","get","delete","getUserProfile","access_token","headers","res","data","generateAsciiArt","image","kernal_zise","image_width","model_name","aaFormData","FormData","append","searchByKeyword","keyword","start","createPost","title","context","tags","width","height","formData","addPostLike","post_id","put","increaseViews","root","margin","barButton","registerButton","small","large","iconButton","padding","position","backgroundColor","ColorButton","withStyles","color","palette","common","white","Button","LoginIcon","anchorEl","setAnchorEl","useContext","AuthContext","user","setUser","isLoadingUser","setIsLoadingUser","history","useHistory","handleClose","Grid","IconButton","event","currentTarget","Avatar","id","keepMounted","open","Boolean","onClose","MenuItem","logout","push","variant","size","drawerWidth","display","appBar","transition","transitions","easing","sharp","duration","leavingScreen","flexGrow","appBarShift","marginLeft","easeOut","enteringScreen","menuButton","marginRight","hide","drawer","flexShrink","drawerPaper","drawerHeader","alignItems","mixins","toolbar","justifyContent","content","contentShift","createMuiTheme","shape","borderRadius","PersistentDrawerLeft","useTheme","setOpen","barName","CssBaseline","AppBar","clsx","Toolbar","aria-label","edge","container","direction","justify","Typography","noWrap","src","favicon","Drawer","anchor","paper","configTree","marginTop","paddingTop","textArea","marginBottom","whiteSpace","overflow","overflowY","overflowX","submitButton","textAlign","input_title","input_tags","input_area","flexWrap","flexDirection","CreatePostsPage","asciiStr","localStorage","getItem","string","asciiArt","setAsciiArt","handleTextAreaChange","e","ascii","target","handleSubmit","preventDefault","newlineIndexArray","indexOfAll","asciiWidth","findMaxDifference","asciiHeight","removeItem","handleTitle","handleTags","replaceAll","Paper","elevation","align","form","onSubmit","noValidate","autoComplete","TextField","required","label","type","defaultValue","onChange","rows","cols","placeholder","str","substring","outputArray","indexOccurence","indexOf","arr","diff","i","LoadingIcon","minWidth","maxWidth","border","loadingDiv","textDiv","textAreaButton","ImageState","Object","freeze","Image2AsciiartPage","undefined","previewImage","state","Unupload","uploadedFile","setUploadedFile","img","document","querySelector","naturalWidth","naturalHeight","Waiting","Completed","asciiString","processAsciiArray","ascii_art","setItem","selectFile","files","URL","createObjectURL","handleAsciiWidth","Container","gutterBottom","htmlFor","style","accept","alt","asciiArray","output","join","input","flex","divider","HomePage","InputBase","inputProps","orientation","background","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","paddingRight","fontSize","textOverflow","iconDiv","iconBar","asciiContent","cardDiv","transform","boxShadow","AsciiCard","heightScale","contentHeight","mainColor","clicked","handleClickCard","postId","Card","userName","CardContent","CardActions","handlePostLike","cardId","like_num","views","AsciiCardColumn","widthScale","contentWidth","TwoLabelSwitch","checkedA","checkedB","setState","FormControlLabel","control","Switch","checked","callback","searchBar","cardAreaRowType","cardAreaColumnType","setInput","posts","setPosts","keword","pageIndexArray","curPage","postQuery","setPostQuery","displayMode","setDisplayMode","handleInputChange","result","last_id","success","prev","goPrePage","goNextPage","useEffect","loadLatestPosts","generatePostsColumn","generatePosts","iconList","routeLists","tabNames","renderObject","getRoutesArray","getRoutesRecursively","storedArray","LoginPage","username","setUsername","setPassword","Fragment","warnMessage","setWarnMessage","message","foot_title","SpacingGrid","App","checkRefreshToken","ref_res","profile_res","setTimeout","PathRoutes","routeObject","exact","path","render","Provider","routeList","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6f08baf2.chunk.js","sourcesContent":["import React from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { makeStyles} from '@material-ui/core/styles';\r\nimport {Link} from 'react-router-dom';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  nested_0:{\r\n    paddingLeft: theme.spacing(2),\r\n  },\r\n  nested_1:{\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n  nested_2:{\r\n    paddingLeft: theme.spacing(8),\r\n  }\r\n}));\r\n\r\n\r\nexport default function ListsRecursion(props){\r\n  \r\n  return props.childLists.map((listObject, index) => (\r\n    <ExpandableList\r\n      key = {index}\r\n      listObject = {listObject}\r\n      selectedListName = {props.selectedListName}\r\n      setSelectedListName = {props.setSelectedListName}\r\n      setBarName = {props.setBarName}\r\n      level = {props.level}\r\n      mainName = {props.mainName}\r\n    />\r\n  ))\r\n}\r\n\r\nfunction ExpandableList(props){\r\n  const classes = useStyles();\r\n  const [listOpen, setListOpen] = React.useState(false);\r\n\r\n  const handleListOpen = () => {\r\n    setListOpen(!listOpen);\r\n  };\r\n  const handleListSelect = (listName) => {\r\n    props.setSelectedListName(listName);\r\n  };\r\n  \r\n  return (\r\n    <div >\r\n\r\n    <ListItem button \r\n      className={classes[`nested_${props.level}`]}\r\n      key={props.listObject.name} \r\n      value={props.listObject.route} \r\n      component={Link} \r\n      to={props.listObject.route}\r\n      selected={props.selectedListName === props.listObject.name}\r\n      onClick={() => { \r\n        props.setBarName(props.listObject.name === \"Home\" ? props.mainName : props.listObject.name); \r\n        handleListSelect(props.listObject.name);\r\n        if(props.listObject.childLists.length > 0){\r\n          handleListOpen();\r\n        }\r\n          \r\n      }}\r\n    >\r\n      <ListItemIcon>{props.listObject.icon}</ListItemIcon>\r\n      <ListItemText primary={props.listObject.name} />\r\n      {\r\n        props.listObject.childLists.length > 0 ?\r\n          listOpen ?\r\n            <ExpandLess /> : <ExpandMore />\r\n        : null\r\n      }\r\n    </ListItem>\r\n    {\r\n      props.listObject.childLists.length > 0 ?\r\n        <Collapse in={listOpen} timeout=\"auto\" unmountOnExit>\r\n        <List component=\"div\" disablePadding>\r\n          <Divider />\r\n          \r\n          <ListsRecursion\r\n            childLists = {props.listObject.childLists} \r\n            level={props.level+1}\r\n            setSelectedListName = {props.setSelectedListName}\r\n            selectedListName = {props.selectedListName}\r\n            setBarName = {props.setBarName}\r\n            mainName = {props.mainName}\r\n          />\r\n          <Divider />\r\n        </List>\r\n        </Collapse>\r\n      : null\r\n    }\r\n    </div>\r\n  );\r\n  \r\n  \r\n}","export default __webpack_public_path__ + \"static/media/favicon.45e2ab95.ico\";","import { createContext } from \"react\";\r\n\r\n/**\r\n * A React.Context object used to save auth infomation.\r\n */\r\nconst authContext = createContext(null);\r\nexport default authContext;","import axios from 'axios';\r\n\r\n\r\nconst axiosClient = axios.create({\r\n  baseURL: \"http://localhost:3000/api\",\r\n});\r\n\r\n/**\r\n * send a post request to backend to login\r\n *\r\n * @param {string} user_name\r\n * @param {string} password\r\n * \r\n * @returns {JSON} http response\r\n */\r\nexport async function login(user_name, password) {\r\n  let url = `/login`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n    withCredentials: true\r\n  }\r\n\r\n  let requestBody = \r\n    { user_name: user_name, \r\n      password:password,\r\n    };\r\n  try {\r\n    return axiosClient.post(url, requestBody, config);\r\n  } catch(err) {\r\n    console.log(`Error occurs during loging in :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * send a post request to backend to register\r\n *\r\n * @param {string} user_name\r\n * @param {string} password\r\n * \r\n * @returns {JSON} http response\r\n */\r\n export async function register(user_name, password) {\r\n  let url = `/register`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n  }\r\n\r\n  let requestBody = \r\n    { user_name: user_name, \r\n      password:password,\r\n    };\r\n  try {\r\n    return axiosClient.post(url, requestBody, config);\r\n  } catch(err) {\r\n    console.log(`Error occurs during loging in :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * send a GET request with refresh token in cookies, to get a new access token.\r\n * @returns {JSON} http response\r\n */\r\nexport async function refreshAccessToken(){\r\n  let url = `/accessToken`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n    withCredentials: true\r\n  }\r\n  \r\n  try {\r\n    return axiosClient.get(url, config);\r\n  } catch(err) {\r\n    console.log(`Error occurs during refreshing an access token :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * send a DELETE request to clear refresh_token\r\n * @returns {JSON} http response\r\n */\r\n export async function logout(){\r\n  let url = `/accessToken`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n    withCredentials: true\r\n  }\r\n  \r\n  try {\r\n    return axiosClient.delete(url, config);\r\n  } catch(err) {\r\n    console.log(`Error occurs during deleting the refresh token :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n\r\n\r\n/**\r\n * send a GET request to server. Let server to authenticate the user.\r\n * \r\n * @param {string} access_token a JWT used to get the api authentication.\r\n * \r\n * @returns {Object} If access_token is valid then return { status:\"success\", new_token: \"\"}.\r\n *                   If access_token is expired and refresh_token is valid then return\r\n *                   { status:\"update\", new_token: access_token}  \r\n *                   else, if access_token and refresh_token both are expired , then return \r\n *                   { status:\"fail\", new_token: \"\"}\r\n */\r\nexport async function authenticate(access_token){\r\n  let url = `/accessTokenAuth`;\r\n  console.log(`Making request to: ${url} to get authenticated.`);\r\n\r\n  const config = {\r\n    headers: {\r\n      'authorization': `Bearer ${access_token}`,\r\n    },\r\n  }\r\n  try {\r\n    // send a GET request to determine user's status.\r\n    var user_res = await axiosClient.get(url,config);\r\n  } catch(err) {\r\n    console.log(`Error occurs during authenticating token :` + err);\r\n    throw err;\r\n  }\r\n\r\n  if(user_res.data.success)\r\n    return { status:\"success\", new_token: \"\"};\r\n  \r\n  // if there is no access_token or access_token is expired.\r\n  // try to refresh an access_token.\r\n  let refresh_res = await refreshAccessToken();\r\n\r\n  if(refresh_res.data.success)\r\n    return { status:\"update\", new_token: refresh_res.data.access_token} ;\r\n  \r\n  // if access_token and refresh_token are both expired\r\n  return { status:\"fail\", new_token: \"\"};\r\n}\r\n\r\n/**\r\n * Get user's profile\r\n * \r\n * @param {string} access_token a JWT used to get the api authentication.\r\n * \r\n * @returns {JSON} http response\r\n */\r\nexport async function getUserProfile(access_token) {\r\n  let url = `/user`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n    headers: {\r\n      'authorization': `Bearer ${access_token}`,\r\n    },\r\n    withCredentials: true\r\n  }\r\n  try {\r\n    let res = await axiosClient.get(url,config);\r\n    return res.data;\r\n  } catch(err) {\r\n    console.log(`Error occurs during get user's profile :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * send an image to server to generate an ascii art string.\r\n * \r\n * @param {string} access_token a JWT used to get the api authentication.\r\n * \r\n * @returns {JSON} http response\r\n */\r\n export async function generateAsciiArt(image, kernal_zise, image_width, model_name) {\r\n  let url = `/asciiArt`;\r\n  console.log(`Making Post request to: ${url}`);\r\n\r\n  const aaFormData = new FormData();\r\n  aaFormData.append('image', image);\r\n  aaFormData.append('kernal_zise', kernal_zise);\r\n  aaFormData.append('image_width', image_width);\r\n  aaFormData.append('model_name',  model_name);\r\n\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n    withCredentials: true\r\n  }\r\n  \r\n\r\n  try {\r\n    let res = await axiosClient.post(url, aaFormData, config);\r\n    return res.data;\r\n  } catch(err) {\r\n    console.log(`Error occurs during get user's profile :` + err);\r\n    throw err;\r\n  }\r\n}\r\n/**\r\n * search posts from the latest\r\n * \r\n * \r\n * @returns {JSON} http response\r\n */\r\n export async function searchPosts() {\r\n  let url = `/posts`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  \r\n  try {\r\n    let res = await axiosClient.get(url);\r\n    return res.data;\r\n  } catch(err) {\r\n    console.log(`Error occurs during get user's profile :` + err);\r\n    throw err;\r\n  }\r\n}\r\n/**\r\n * search posts by keyword\r\n * \r\n * @param {string} keyword s keyword string\r\n * @param {number} start the index that query starts from.\r\n * @returns {JSON} http response\r\n */\r\n export async function searchByKeyword( keyword = \"\", start = null) {\r\n  let url = `/posts?search_words=${keyword}`;\r\n  if(keyword === \"\")\r\n    url = `/posts`;\r\n  \r\n  if(start)\r\n    url = url + `?start=${start}`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  \r\n  try {\r\n    let res = await axiosClient.get(url);\r\n    return res.data;\r\n  } catch(err) {\r\n    console.log(`Error occurs during get user's profile :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * Create a new post\r\n * \r\n * @param {string} access_token a JWT used to get the api authentication.\r\n * @param {string} title the post title\r\n * @param {string} context ascii art string\r\n * @param {string} tags a string contains tags. eg: #tag1#tag2\r\n * @param {number} width width of ascii art\r\n * @param {number} height height of ascii art\r\n * \r\n * @returns {JSON} http response\r\n */\r\n export async function createPost( access_token, title, context , tags, width, height, image=null ) {\r\n  let url = `/posts`;\r\n  console.log(`Making Post request to: ${url}`);\r\n\r\n  const formData = new FormData();\r\n  \r\n  if(image)\r\n    formData.append('image', image);\r\n  formData.append('title',  title);\r\n  formData.append('context',  context);\r\n  formData.append('tags',  tags);\r\n  formData.append('width',  width);\r\n  formData.append('height',  height);\r\n\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n      'authorization': `Bearer ${access_token}`,\r\n    },\r\n  }\r\n  \r\n\r\n  try {\r\n    let res = await axiosClient.post(url, formData, config);\r\n    return res.data;\r\n  } catch(err) {\r\n    console.log(`Error occurs during creating the new post :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * add like to a post\r\n *\r\n * @param {string} access_token a JWT used to get the api authentication.\r\n * @param {string} post_id the post id\r\n * \r\n * @returns {JSON} http response\r\n */\r\n export async function addPostLike(access_token, post_id) {\r\n  if(!access_token)\r\n    return;\r\n\r\n  let url = `/posts/${post_id}/like_num`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n    headers: {\r\n      'authorization': `Bearer ${access_token}`,\r\n    },\r\n  }\r\n\r\n  let requestBody = { };\r\n\r\n  try {\r\n    return axiosClient.put(url, requestBody, config);\r\n  } catch(err) {\r\n    console.log(`Error occurs during loging in :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * increase views of a post\r\n *\r\n * @param {string} post_id the post id\r\n * \r\n * @returns {JSON} http response\r\n */\r\n export async function increaseViews(post_id) {\r\n  \r\n\r\n  let url = `/posts/${post_id}/views`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n  }\r\n\r\n  let requestBody = { };\r\n\r\n  try {\r\n    return axiosClient.put(url, requestBody, config);\r\n  } catch(err) {\r\n    console.log(`Error occurs during loging in :` + err);\r\n    throw err;\r\n  }\r\n}","import React from 'react';\r\nimport { makeStyles,  withStyles} from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport {Link} from 'react-router-dom';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport AuthContext from \"./AuthContext.jsx\";\r\nimport {logout} from '../api/ascii-art-generator-api.js'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  barButton: {\r\n    margin: theme.spacing(1),\r\n    //border: '0px solid white',\r\n  },\r\n  registerButton: {\r\n    margin: theme.spacing(1),\r\n    \r\n  },\r\n  small: {\r\n    width: theme.spacing(3),\r\n    height: theme.spacing(3),\r\n  },\r\n  large: {\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7),\r\n  },\r\n  iconButton: {\r\n    padding: 3,\r\n    //border: '3px solid white',\r\n    position: \"relative\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#5DF5AF\" \r\n    }\r\n  },\r\n}));\r\n\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    color: theme.palette.common.white,\r\n    backgroundColor: \"#29D787\",\r\n    '&:hover': {\r\n      backgroundColor: '#23EA8E',\r\n    },\r\n  },\r\n}))(Button);\r\n\r\nexport default function LoginIcon(props){\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const {user, setUser, isLoadingUser, setIsLoadingUser} = React.useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogout = () =>{\r\n    setIsLoadingUser(false);\r\n    // clear user data\r\n    setUser({});\r\n    logout();\r\n    history.push(\"/\");\r\n    setAnchorEl(null);\r\n  } \r\n  \r\n  return(\r\n    user.access_token ?\r\n    (<Grid >\r\n      <IconButton color=\"inherit\" className={classes.iconButton} onClick={handleClick}>\r\n        <Avatar >{user.user_name}</Avatar>\r\n      </IconButton>\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n        <MenuItem onClick={handleClose}>My account</MenuItem>\r\n        <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n      </Menu>\r\n    </Grid>)\r\n    : \r\n    isLoadingUser ? null :\r\n    (<Grid >\r\n      <ColorButton \r\n        variant=\"contained\" \r\n        size=\"small\" \r\n        color=\"primary\" \r\n        className={classes.registerButton}\r\n        value={'/register'} \r\n        component={Link} \r\n        to={'/register'}\r\n      >\r\n        Register\r\n      </ColorButton>\r\n      <Button \r\n        variant=\"outlined\" \r\n        size=\"small\" \r\n        color=\"inherit\" \r\n        className={classes.barButton}\r\n        value={'/login'} \r\n        component={Link} \r\n        to={'/login'}\r\n      >\r\n        Login\r\n      </Button>\r\n    </Grid>)\r\n  )\r\n}","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme, createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport Button from '@material-ui/core/Button';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport ListsRecursion from './ListsRecursion.jsx';\r\nimport favicon from \"../image/favicon_io/favicon.ico\";\r\nimport LoginIcon from \"./LoginIcon.jsx\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    backgroundColor: /*\"#00387B\" \"#5499C7\"*/ \"#2ECC83\" ,\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    backgroundColor: \"#2ECC83\",\r\n  },\r\n  barButton: {\r\n    marginLeft: 'auto',\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  iconButton: {\r\n    padding: 0,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    \r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: 'flex-start',\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n  nested_0:{\r\n    paddingLeft: theme.spacing(2),\r\n  },\r\n  nested_1:{\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n  nested_2:{\r\n    paddingLeft: theme.spacing(8),\r\n  },\r\n  title:{\r\n    flexGrow: 1,\r\n  }\r\n}));\r\nconst iconTheme = createMuiTheme({\r\n  shape: {\r\n    borderRadius: 100,\r\n  }, \r\n});\r\nexport default function PersistentDrawerLeft(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [barName, setBarName] = React.useState(props.barName);\r\n  const mainName = props.barName;\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const [selectedListName, setSelectedListName] = React.useState(\"\");\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open,\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, open && classes.hide)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          \r\n          <Grid container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\r\n\r\n            <Grid >\r\n              <Typography variant=\"h6\" noWrap >\r\n                {/* <Button color=\"inherit\" className={classes.iconButton} startIcon={<Avatar src={favicon } />} /> */ }\r\n                <IconButton color=\"inherit\" className={classes.iconButton}>\r\n                  <Avatar src={favicon } />\r\n                </IconButton>\r\n                {barName}\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <LoginIcon />\r\n\r\n          </Grid>\r\n\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"persistent\"\r\n        anchor=\"left\"\r\n        open={open}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div className={classes.drawerHeader}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List disablePadding>\r\n          \r\n          <ListsRecursion\r\n            childLists = {props.configTree.childLists} \r\n            level={0}\r\n            setSelectedListName = {setSelectedListName}\r\n            selectedListName = {selectedListName}\r\n            setBarName = {setBarName}\r\n            mainName = {props.barName}\r\n          />\r\n        </List>\r\n        <Divider />\r\n      </Drawer>\r\n\r\n      <main\r\n        className={clsx(classes.content, {\r\n          [classes.contentShift]: open,\r\n        })}\r\n      >\r\n        \r\n      </main>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport { makeStyles , withStyles} from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport favicon from \"../image/favicon_io/favicon.ico\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport AuthContext from \"../conponent/AuthContext.jsx\";\r\nimport {createPost} from '../api/ascii-art-generator-api.js'\r\nconst useStyles = makeStyles((theme) => ({\r\n  \r\n  root: {\r\n    \r\n    width:'90%',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    padding:'1em',\r\n    '& > *': {\r\n      \r\n      marginTop: \"10%\",\r\n      \r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width:'100%',\r\n      \r\n      //height: theme.spacing(80),\r\n      borderRadius: theme.spacing(1),\r\n    },\r\n  },\r\n  title: {\r\n    \r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    color:\"#2ECC83\",\r\n    paddingTop: theme.spacing(2),\r\n  },\r\n  textArea:{\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    marginTop: theme.spacing(0),\r\n    marginBottom: theme.spacing(2),\r\n    width:'90%',\r\n    whiteSpace:'nowrap',\r\n    overflow:'scroll',\r\n    overflowY: 'scroll',\r\n    overflowX: 'scroll',\r\n  },\r\n  submitButton: {\r\n    padding: 0,\r\n    marginTop: theme.spacing(1),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    marginBottom: theme.spacing(1),\r\n    textAlign: 'center',\r\n    width: '90%',\r\n    height: 30,\r\n    //border: '1px solid white',\r\n  },\r\n  input_title: {\r\n    width:'90%',\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  input_tags: {\r\n    width:'50%',\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  input_area: {\r\n    width:'100%',\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    justifyContent: 'flex-start',\r\n    padding: '5%',\r\n  },\r\n}));\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    color: theme.palette.common.white,\r\n    backgroundColor: \"#2ECC83\",\r\n    '&:hover': {\r\n      backgroundColor: '#23EA8E',\r\n    },\r\n  },\r\n}))(Button);\r\nexport default function CreatePostsPage(props){\r\n  const classes = useStyles();\r\n  const {user, setUser} = React.useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const asciiStr = localStorage.getItem('asciiart_string_tmp') ? localStorage.getItem('asciiart_string_tmp') : '';\r\n  \r\n  const [asciiArt, setAsciiArt] = \r\n  React.useState({\r\n    string: asciiStr,\r\n    width: 100, \r\n    height: 50,\r\n    title: \"\",\r\n    tags: \"\",\r\n  });\r\n\r\n  const handleTextAreaChange = async (e) => {\r\n    setAsciiArt(ascii => ({ \r\n      ...ascii, \r\n      string: e.target.value,\r\n    }));\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if(!user.access_token)\r\n      return console.log('Please log in first.');\r\n\r\n    let newlineIndexArray = indexOfAll(asciiArt.string, '\\n');\r\n    let asciiWidth = findMaxDifference(newlineIndexArray) ;\r\n    let asciiHeight = newlineIndexArray.length + 1;\r\n    console.log(`( width : ${asciiWidth}, height : ${asciiHeight} )`);\r\n    console.log(`title : ${asciiArt.title}, tags : ${asciiArt.tags} `);\r\n\r\n    let res = await createPost( \r\n      user.access_token, \r\n      asciiArt.title, \r\n      asciiArt.string , \r\n      asciiArt.tags,\r\n      asciiWidth,\r\n      asciiHeight\r\n    );\r\n    localStorage.removeItem('asciiart_string_tmp');\r\n    console.log(res);\r\n    // redirect to /\r\n    history.push(\"/\");\r\n  }\r\n  const handleTitle = async (e) => {\r\n    e.preventDefault();\r\n    setAsciiArt(ascii => ({ \r\n      ...ascii, \r\n      title: e.target.value,\r\n    }));\r\n  }\r\n  const handleTags = async (e) => {\r\n    e.preventDefault();\r\n    const tags = e.target.value.replaceAll(' ', '');\r\n    setAsciiArt(ascii => ({ \r\n      ...ascii, \r\n      tags: tags,\r\n    }));\r\n    \r\n  }\r\n  return(\r\n    \r\n        \r\n      <div className={classes.root}>\r\n        \r\n        <Paper elevation={4}>\r\n          <Typography variant=\"h4\" align = 'center' className={classes.title} >\r\n            Create a new post\r\n          </Typography>\r\n\r\n          <Divider  variant=\"middle\"/>\r\n          <form className={classes.form} onSubmit={handleSubmit} align = 'center' noValidate autoComplete=\"off\">\r\n            <Grid\r\n              container\r\n              direction=\"column\"\r\n              justify=\"center\"\r\n              alignItems=\"center\"\r\n            >\r\n              <div className={classes.input_area}>\r\n                <TextField\r\n                  required\r\n                  id=\"post-title\"\r\n                  label=\"Title\"\r\n                  type=\"text\"\r\n                  defaultValue={\"\"}\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  className={classes.input_title}\r\n                  onChange={handleTitle}\r\n                />\r\n                <TextField\r\n                  required\r\n                  id=\"post-tags\"\r\n                  label=\"Tags : eg. #tag1#tag2...\"\r\n                  type=\"text\"\r\n                  defaultValue={\"\"}\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  className={classes.input_tags}\r\n                  onChange={handleTags}\r\n                />\r\n              </div>\r\n              \r\n              <textarea \r\n                rows={asciiArt.height} \r\n                cols={asciiArt.width} \r\n                placeholder={\"\"} \r\n                className={classes.textArea} \r\n                value = {asciiArt.string}\r\n                onChange={handleTextAreaChange}\r\n              /> \r\n              <ColorButton type=\"submit\" variant=\"contained\"  color=\"primary\" className={classes.submitButton}>\r\n                Create a Post\r\n              </ColorButton>,\r\n            </Grid>\r\n          </form>\r\n        </Paper>\r\n      </div>\r\n    \r\n  )\r\n}\r\n\r\n/**\r\n * get all substring's indexes.\r\n * \r\n * @param {string} str the string which you want search substring in.\r\n * @param {string} substring the substring you want to find its index in string.\r\n * \r\n * @returns {array} a array contains substring occurence indexes\r\n */\r\nfunction indexOfAll(str, substring){\r\n  \r\n  let outputArray = [];\r\n\r\n  let indexOccurence = str.indexOf(substring, 0);\r\n\r\n  while(indexOccurence >= 0) {\r\n    outputArray.push(indexOccurence);\r\n\r\n    indexOccurence = str.indexOf(substring, indexOccurence + 1);\r\n  }\r\n  return outputArray;\r\n}\r\n\r\n/**\r\n * find a max difference between each 2 neighbor element\r\n * \r\n * @param {array} arr the array contains n number.\r\n * \r\n * @returns {number} max difference\r\n */\r\n function findMaxDifference(arr){\r\n  \r\n  let diff = 0;\r\n  for(let i = 1; i < arr.length; i++){\r\n    if( arr[i]-arr[i-1] > diff)\r\n      diff = arr[i]-arr[i-1];\r\n  }\r\n  return diff;\r\n}","import './LoadingIcon.css'\r\n\r\nexport default function LoadingIcon(props){\r\n  return(\r\n    \r\n      \r\n    <div className=\"donut-ring\">\r\n      <div className=\"progress\">\r\n        <div className=\"progress2\">\r\n        \r\n          <div className=\"progress-center\">\r\n          \r\n          </div>\r\n          \r\n        </div>\r\n      </div>          \r\n    </div>\r\n   \r\n  )\r\n}\r\n/*\r\n<div class=\"donut-ring\">\r\n  <div class=\"ring gray\"></div>          \r\n</div>\r\n\r\n<pie class=\"ten\"></pie>\r\n\r\n*/","import React from 'react';\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport { makeStyles , withStyles} from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nimport AuthContext from \"../conponent/AuthContext.jsx\";\r\nimport LoadingIcon from '../conponent/LoadingIcon';\r\nimport {generateAsciiArt} from '../api/ascii-art-generator-api.js';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    minWidth: theme.spacing(40),\r\n    '& > *': {\r\n      marginTop: \"20%\",\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      minWidth: theme.spacing(40),\r\n      maxWidth: theme.spacing(40),\r\n      //height: theme.spacing(42),\r\n      borderRadius: theme.spacing(1),\r\n    },\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(1),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    color:\"#2ECC83\",\r\n  },\r\n  form: {\r\n    display: 'inline-block',\r\n    \r\n    '& .MuiTextField-root': {\r\n      marginTop: theme.spacing(3),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: 200,\r\n    },\r\n    '& .input-small': {\r\n      margin:theme.spacing(2),\r\n      width: 100,\r\n      align: 'left',\r\n    },\r\n    '& .preview-div': {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(0),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      \r\n    },\r\n  },\r\n  iconButton: {\r\n    padding: theme.spacing(0.5),\r\n    marginTop: theme.spacing(2),\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    textAlign: 'center',\r\n    border: '1px solid gray',\r\n  },\r\n  submitButton: {\r\n    padding: 0,\r\n    marginTop: theme.spacing(4),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    marginBottom: theme.spacing(2),\r\n    textAlign: 'center',\r\n    width: 200,\r\n    height: 30,\r\n    //border: '1px solid white',\r\n  },\r\n  loadingDiv: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  textDiv:{\r\n    minWidth: theme.spacing(40),\r\n    maxWidth: theme.spacing(100),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    '& > *': {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(1),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  textArea:{\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    marginTop: theme.spacing(0),\r\n    marginBottom: theme.spacing(2),\r\n    overflow:'scroll',\r\n    overflowY: 'scroll',\r\n    overflowX: 'scroll',\r\n  },\r\n  textAreaButton:{\r\n    width: theme.spacing(40),\r\n    height: 30,\r\n    padding: 0,\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    marginBottom: theme.spacing(2),\r\n    textAlign: 'center',  \r\n  },\r\n}));\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    color: theme.palette.common.white,\r\n    backgroundColor: \"#2ECC83\",\r\n    '&:hover': {\r\n      backgroundColor: '#23EA8E',\r\n    },\r\n  },\r\n}))(Button);\r\n\r\nconst ImageState = Object.freeze({\"Unupload\":1, \"Waiting\":2, \"Completed\":3});\r\n\r\nexport default function Image2AsciiartPage(props){\r\n  const classes = useStyles();\r\n  const {user, setUser} = React.useContext(AuthContext);\r\n  const [asciiArt, setAsciiArt] = React.useState({string:\"\", width:30, height:0});\r\n  const [uploadedFile, setUploadedFile] \r\n  = React.useState({\r\n    image: undefined,\r\n    previewImage: undefined,\r\n    state: ImageState.Unupload,\r\n  });\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if(!uploadedFile.image)\r\n      return\r\n\r\n    const img = document.querySelector(\".preview-image\");\r\n    console.log(\"submit\");\r\n    console.log(`width : ${img.naturalWidth}, height : ${img.naturalHeight}`);\r\n\r\n    setUploadedFile(uploadedFile => ({ \r\n      ...uploadedFile, \r\n      state: ImageState.Waiting,\r\n    }));\r\n    let res = await generateAsciiArt(uploadedFile.image, 11, asciiArt.width*30, 'cnn_0');\r\n    //console.log(res)\r\n    setUploadedFile(uploadedFile => ({ \r\n      ...uploadedFile, \r\n      state: ImageState.Completed,\r\n    }));\r\n    let asciiString = processAsciiArray(res.ascii_art);\r\n    setAsciiArt({string: asciiString, width: res.ascii_art[0].length+10, height: res.ascii_art.length})\r\n    localStorage.setItem(\"asciiart_string_tmp\", asciiString);\r\n  };\r\n\r\n  const selectFile = async (e) => {\r\n    setUploadedFile(uploadedFile => ({ \r\n      //...uploadedFile, \r\n      image: e.target.files[0], \r\n      previewImage: URL.createObjectURL(e.target.files[0]),\r\n      state: ImageState.Unupload,\r\n    }));\r\n  };\r\n\r\n  const handleAsciiWidth= async (e) => {\r\n    setAsciiArt(ascii => ({ \r\n      ...ascii, \r\n      width: e.target.value,\r\n    }));\r\n  };\r\n\r\n  const handleTextAreaChange = async (e) => {\r\n    setAsciiArt(ascii => ({ \r\n      ...ascii, \r\n      string: e.target.value,\r\n    }));\r\n  };\r\n  return(\r\n  <div id = 'page' >\r\n    <Container maxWidth={'sm'} direction=\"column\">\r\n        \r\n      <div className={classes.root}>\r\n        \r\n        <Paper elevation={3}>\r\n          <Typography variant=\"h6\" align = 'center' className={classes.title} gutterBottom>\r\n            Generate a new ascii art\r\n          </Typography>\r\n\r\n          <Divider  variant=\"middle\"/>\r\n          <Grid\r\n              container\r\n              direction=\"column\"\r\n              justify=\"center\"\r\n              alignItems=\"center\"\r\n          >\r\n            <form className={classes.form} onSubmit={handleSubmit} align = 'center' noValidate autoComplete=\"off\">\r\n              \r\n              <label htmlFor=\"btn-upload\">\r\n                <input\r\n                  id=\"btn-upload\"\r\n                  name=\"btn-upload\"\r\n                  style={{ display: 'none' }}\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={selectFile} />\r\n                <Button\r\n                  className={classes.iconButton}\r\n                  variant=\"outlined\"\r\n                  component=\"span\" >\r\n                  Choose a Image\r\n                </Button>\r\n              </label>\r\n            \r\n              <div className=\"preview-div\">\r\n                {uploadedFile.previewImage && (\r\n                  <img className=\"preview-image\" src={uploadedFile.previewImage} width={135} alt={uploadedFile.image.name} />\r\n                )}\r\n              </div>\r\n              <div className=\"file-name\">\r\n                {uploadedFile.image? uploadedFile.image.name : null}\r\n              </div>\r\n\r\n              <Grid\r\n                container\r\n                direction=\"row\"\r\n                justify=\"center\"\r\n                alignItems=\"flex-start\"\r\n              >\r\n                <TextField\r\n                  required\r\n                  id=\"ascii-width\"\r\n                  label=\"Number of characters per line\"\r\n                  type=\"number\"\r\n                  defaultValue={30}\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  onChange={handleAsciiWidth}\r\n                />\r\n              </Grid>\r\n\r\n              <ColorButton type=\"submit\" variant=\"contained\"  color=\"primary\" className={classes.submitButton}>\r\n                Submit\r\n              </ColorButton>\r\n            </form>\r\n          </Grid>\r\n        </Paper>\r\n        \r\n      </div>\r\n    </Container>\r\n    \r\n    <div align=\"center\" className={classes.textDiv}>\r\n\r\n      { uploadedFile.state === ImageState.Waiting ?  <LoadingIcon /> : null}\r\n      { asciiArt.string!==\"\" ?\r\n        [<ColorButton type=\"submit\" variant=\"contained\"  color=\"primary\" className={classes.textAreaButton}>\r\n          Create a Post\r\n        </ColorButton>,\r\n        <textarea \r\n          rows={asciiArt.height} \r\n          cols={asciiArt.width} \r\n          placeholder={\"\"} \r\n          className={classes.textArea} \r\n          value = {asciiArt.string}\r\n          onChange={handleTextAreaChange}\r\n        /> ]\r\n        :null\r\n      }\r\n    </div>\r\n\r\n  </div>\r\n  )\r\n}\r\n/**\r\n * send an image to server to generate an ascii art string.\r\n * \r\n * @param {Array} asciiArray a 2D array contains asciiart characters.\r\n * \r\n * @returns {string} return a string of ascii art\r\n */\r\nfunction processAsciiArray(asciiArray){\r\n  let output = [];\r\n  for(let i = 0; i < asciiArray.length; i++){\r\n    let str = asciiArray[i].join('');\r\n    output.push(str);\r\n    output.push('\\n');\r\n  }\r\n  return output.join('');\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport DirectionsIcon from '@material-ui/icons/Directions';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: '2px 4px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    minWidth: theme.spacing(40),\r\n    maxWidth: theme.spacing(80),\r\n  },\r\n  input: {\r\n    marginLeft: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  iconButton: {\r\n    padding: 10,\r\n  },\r\n  divider: {\r\n    height: 28,\r\n    margin: 4,\r\n  },\r\n}));\r\n\r\nexport default function HomePage(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Paper  >\r\n      <form onSubmit={props.handleSubmit} className={classes.root}>\r\n      <InputBase\r\n        className={classes.input}\r\n        placeholder=\"Search Interesting Asciiart\"\r\n        inputProps={{ 'aria-label': 'search asciiart posts' }}\r\n        onChange={props.onChange}\r\n      />\r\n      <IconButton type=\"submit\" className={classes.iconButton} aria-label=\"search\">\r\n        <SearchIcon />\r\n      </IconButton>\r\n      <Divider className={classes.divider} orientation=\"vertical\" />\r\n      <IconButton color=\"primary\" className={classes.iconButton} aria-label=\"directions\">\r\n        <DirectionsIcon />\r\n      </IconButton>\r\n      </form>\r\n    </Paper>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport VisibilityOutlinedIcon from '@material-ui/icons/VisibilityOutlined';\r\nimport {increaseViews} from '../api/ascii-art-generator-api';\r\nconst useStyles = makeStyles((theme) => ({\r\n  title:{\r\n    background: 'linear-gradient(160deg, #2ECC83 30%, #4BFC22 80%)',\r\n    color: 'white',\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 16,\r\n    borderBottomRightRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n    fontSize: theme.spacing(2),\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    alignItems: 'baseline',\r\n    justifyContent: 'space-between',\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis',\r\n    \r\n  },\r\n  iconDiv:{\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    '&:hover': {\r\n      background: 'rgba(50, 50, 50, 0.08)',\r\n    },\r\n    '& > #user-avator': {\r\n      height:'1.5rem',\r\n      width:'1.5rem',\r\n      margin:'2px',\r\n    },\r\n    '& > *': {\r\n      margin:'2px',\r\n    },\r\n  },\r\n  iconBar: {\r\n    marginTop: 0,\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    borderBottomLeftRadius: 16,\r\n  },\r\n  asciiContent: {\r\n    height: theme.spacing(50),\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n  },\r\n  cardDiv:{\r\n    margin: theme.spacing(1),\r\n    \r\n    transition: '0.1s',\r\n    '&:hover': {\r\n      transform: 'scale(1.05)',\r\n      boxShadow: `10px 20px 16px 0px rgba(101, 128, 95, 0.35)`,//#DEDEDE\r\n    },\r\n  }\r\n}));\r\n\r\n\r\nexport default function AsciiCard(props) {\r\n  const classes = useStyles();\r\n  const heightScale = props.asciiHeight>(props.contentHeight/20) ? props.contentHeight/(20*props.asciiHeight): 1.0;\r\n  let width = heightScale * props.asciiWidth *8 ;\r\n  width = width > props.contentHeight/2 ?  width : props.contentHeight/2;\r\n  const mainColor = '#2ECC83';\r\n  let clicked = false;\r\n\r\n  const handleClickCard = async (e) => {\r\n    if(!clicked){\r\n      console.log(props.postId);\r\n      increaseViews(props.postId);\r\n      clicked = !clicked;\r\n    }\r\n  }\r\n  return (\r\n    <div className={classes.cardDiv} onClick={handleClickCard}>\r\n    <Card className={classes.title} style = {{ 'width':width }}>  \r\n      <Typography variant=\"h6\" noWrap={true} style = {{ 'width':width-10 }}>{props.title} </Typography>\r\n      <div className={classes.iconDiv}>\r\n        <Avatar id='user-avator'> \r\n        </Avatar>\r\n        <Typography variant=\"subtitle2\" >\r\n          {props.userName} \r\n        </Typography> \r\n      </div>\r\n     \r\n    </Card>\r\n\r\n    <Card className={classes.asciiContent} style = {{ 'width':width }}>\r\n      <CardContent style = {{ 'height':props.contentHeight , 'marginTop': 0, 'padding':4}}>\r\n        <Typography variant=\"body2\" component={'div'}>\r\n          <pre style = {{  \r\n            'transformOrigin': '0 0',\r\n            'transform': `scale(${heightScale})`}\r\n          }>\r\n          {props.context}\r\n          </pre>\r\n        </Typography>\r\n        \r\n      </CardContent>\r\n      <CardActions>\r\n        \r\n      </CardActions>\r\n    </Card>\r\n    \r\n    <Card className={classes.iconBar} style = {{ 'width':width }}>\r\n      <CardActions>\r\n\r\n        \r\n\r\n        <div className={classes.iconDiv} onClick={(e)=>props.handlePostLike(e, props.postId, props.cardId)}>\r\n          <ThumbUpAltOutlinedIcon style={{ color: mainColor }}/>\r\n          <Typography variant=\"body2\" style={{ color: mainColor }}>\r\n            {props.like_num} \r\n          </Typography> \r\n        </div>\r\n        <div className={classes.iconDiv}>\r\n          <VisibilityOutlinedIcon style={{ color: mainColor}}/>\r\n          <Typography variant=\"body2\" style={{ color: mainColor}}>\r\n            {props.views} \r\n          </Typography> \r\n        </div>\r\n\r\n        \r\n      </CardActions>\r\n    </Card>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport VisibilityOutlinedIcon from '@material-ui/icons/VisibilityOutlined';\r\nimport {increaseViews} from '../api/ascii-art-generator-api';\r\nconst useStyles = makeStyles((theme) => ({\r\n  title:{\r\n    background: 'linear-gradient(160deg, #2ECC83 30%, #4BFC22 80%)',\r\n    color: 'white',\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 16,\r\n    borderBottomRightRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n    fontSize: theme.spacing(2),\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'row',\r\n    alignItems: 'baseline',\r\n    justifyContent: 'space-between',\r\n    \r\n  },\r\n  iconDiv:{\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    borderRadius: '5px',\r\n    '&:hover': {\r\n      background: 'rgba(50, 50, 50, 0.08)',\r\n    },\r\n    '& > #user-avator': {\r\n      height:'1.5rem',\r\n      width:'1.5rem',\r\n      margin:'2px',\r\n    },\r\n    '& > *': {\r\n      margin:'2px',\r\n    },\r\n  },\r\n  iconBar: {\r\n    marginTop: 0,\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    borderBottomLeftRadius: 16,\r\n  },\r\n  asciiContent: {\r\n    height: theme.spacing(50),\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n  },\r\n  cardDiv:{\r\n    margin: theme.spacing(1),\r\n    \r\n    transition: '0.1s',\r\n    '&:hover': {\r\n      transform: 'scale(1.05)',\r\n      boxShadow: `10px 20px 16px 0px rgba(101, 128, 95, 0.35)`,//#DEDEDE\r\n    },\r\n  }\r\n}));\r\n\r\n\r\nexport default function AsciiCardColumn(props) {\r\n  const classes = useStyles();\r\n  const widthScale = props.asciiWidth>(props.contentWidth/10) ? props.contentWidth/(10*props.asciiWidth): 1.0;\r\n  let height = widthScale * props.asciiHeight *20 ;\r\n  \r\n\r\n  \r\n  const mainColor = '#2ECC83';\r\n  let clicked = false;\r\n\r\n  const handleClickCard = async (e) => {\r\n    if(!clicked){\r\n      console.log(props.postId);\r\n      increaseViews(props.postId);\r\n      clicked = !clicked;\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div className={classes.cardDiv} onClick={handleClickCard}>\r\n    <Card className={classes.title} style = {{ 'width':props.contentWidth }}>  \r\n      <Typography variant=\"h6\">{props.title} </Typography>\r\n      <div className={classes.iconDiv}>\r\n        <Avatar id='user-avator'> \r\n        </Avatar>\r\n        <Typography variant=\"subtitle2\" >\r\n          {props.userName} \r\n        </Typography> \r\n      </div>\r\n     \r\n    </Card>\r\n\r\n    <Card className={classes.asciiContent} style = {{ 'width':props.contentWidth ,'height':height}}>\r\n      <CardContent style = {{ 'height':props.contentHeight , 'marginTop': 0, 'padding':4}}>\r\n        <Typography variant=\"body2\" component={'div'}>\r\n          <pre style = {{  \r\n            'transformOrigin': '0 0',\r\n            'transform': `scale(${widthScale})`}\r\n          }>\r\n          {props.context}\r\n          </pre>\r\n        </Typography>\r\n        \r\n      </CardContent>\r\n      <CardActions>\r\n        \r\n      </CardActions>\r\n    </Card>\r\n    \r\n    <Card className={classes.iconBar} style = {{ 'width':props.contentWidth }}>\r\n      <CardActions>\r\n      \r\n        <div className={classes.iconDiv} onClick={(e)=>props.handlePostLike(e, props.postId, props.cardId)}>\r\n          <ThumbUpAltOutlinedIcon style={{ color: mainColor }}/>\r\n          <Typography variant=\"body2\" style={{ color: mainColor }}>\r\n            {props.like_num} \r\n          </Typography> \r\n        </div>\r\n        <div className={classes.iconDiv}>\r\n          <VisibilityOutlinedIcon style={{ color: mainColor}}/>\r\n          <Typography variant=\"body2\" style={{ color: mainColor}}>\r\n            {props.views} \r\n          </Typography> \r\n        </div>\r\n\r\n        \r\n      </CardActions>\r\n    </Card>\r\n    </div>\r\n  )\r\n}\r\n","\r\nimport React from 'react';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\nexport default function TwoLabelSwitch(props){\r\n  const [state, setState] = React.useState({\r\n    checkedA: true,\r\n    checkedB: true,\r\n  });\r\n\r\n  const handleChange = (event) => {\r\n    setState({ ...state, [event.target.name]: event.target.checked });\r\n    props.callback();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n\r\n      <FormControlLabel\r\n        control={\r\n          <Switch\r\n            checked={state.checkedB}\r\n            onChange={handleChange}\r\n            name=\"checkedB\"\r\n            color=\"primary\"\r\n          />\r\n        }\r\n        label=\"Display Mode\"\r\n      />\r\n\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\n\r\nimport SearchInput from '../conponent/SearchInput';\r\nimport AsciiCard from '../conponent/AsciiCard';\r\nimport AsciiCardColumn from '../conponent/AsciiCardColumn';\r\nimport TwoLabelSwitch from '../conponent/TwoLabelSwitch';\r\nimport {searchByKeyword,  addPostLike} from '../api/ascii-art-generator-api';\r\nimport AuthContext from \"../conponent/AuthContext.jsx\";\r\nimport './HomePage.css'\r\nconst useStyles = makeStyles((theme) => ({\r\n  searchBar: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width:'100%',\r\n    marginTop: \"4em\",\r\n    '& > *': {\r\n      //marginTop: \"4em\",\r\n      marginLeft: theme.spacing(1),\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n  cardAreaRowType: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'row',\r\n    width:'100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-evenly',\r\n    padding:'1em',\r\n    '& > *': {\r\n      marginTop: \"1em\",\r\n    },\r\n  },\r\n  cardAreaColumnType: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    \r\n    '@media (max-width: 480px)':{\r\n\r\n    },\r\n    '@media (min-width: 768px) and (max-width: 979px)':{\r\n      height:'4000px'\r\n    },\r\n    '@media (min-width: 980px)': {\r\n      height:'3000px'\r\n    },\r\n    '@media (min-width: 1200px)': {\r\n      height:'2000px'\r\n    },\r\n    padding:'1em',\r\n    '& > *': {\r\n      marginTop: \"1em\",\r\n    },\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    width:'100%',\r\n    '& > .page-icon': {\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      marginBottom: theme.spacing(2),\r\n      \r\n    },\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function HomePage() {\r\n  const classes = useStyles();\r\n  const [input, setInput] = React.useState(\"\");\r\n  const [posts, setPosts] = React.useState([]);\r\n  const [postQuery, setPostQuery] = React.useState({keword: '', pageIndexArray: [], curPage: 0});\r\n  const {user} = React.useContext(AuthContext);\r\n  const [displayMode, setDisplayMode] = React.useState(\"column\");\r\n  const handleInputChange = async (e) => {\r\n    setInput(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log('search submit');\r\n    let res = await searchByKeyword(input);\r\n    setPosts(res.result);\r\n\r\n    if(res.result.length===0){ \r\n      setPostQuery({\r\n        keword: input,\r\n        pageIndexArray: [],\r\n        curPage: 0,\r\n      })\r\n      return;\r\n    }\r\n  \r\n    setPostQuery({\r\n      keword: input,\r\n      pageIndexArray: [res.result[0].id+1, res.last_id],\r\n      curPage: 0,\r\n    })\r\n    console.log(res);\r\n  }\r\n\r\n  const handlePostLike = async (e, postId, cardId) => {\r\n    e.preventDefault();\r\n    if(!user.access_token)\r\n      return console.log('Please log in first.');\r\n    \r\n    let res = await addPostLike(user.access_token, postId);\r\n\r\n    if(res.data.success){\r\n      posts[cardId].like_num = res.data.result.like_num;\r\n      setPosts(prev =>( [...prev]));\r\n    }\r\n  }\r\n  \r\n  const goPrePage = async (e) => {\r\n    if(postQuery.curPage === 0)\r\n      return;\r\n\r\n    let res = await searchByKeyword(postQuery.keword, postQuery.pageIndexArray[postQuery.curPage-1]);\r\n\r\n    if(res.result.length===0)\r\n      return;\r\n\r\n    setPosts(res.result);\r\n    setPostQuery(prev => ({\r\n      ...prev,\r\n      curPage: prev.curPage>0 ? prev.curPage-1 : prev.curPage,\r\n    }))\r\n  };\r\n\r\n  const goNextPage = async (e) => {\r\n    //if user is at the last page.\r\n    if(postQuery.curPage === postQuery.pageIndexArray.length -1)\r\n      return;\r\n\r\n    let res = await searchByKeyword(postQuery.keword, postQuery.pageIndexArray[postQuery.curPage+1]);\r\n\r\n    if(res.result.length===0)\r\n      return;\r\n    \r\n    console.log(postQuery);\r\n    setPosts(res.result);\r\n\r\n    //if user has reached this page before.\r\n    if(postQuery.curPage < postQuery.pageIndexArray.length-1){\r\n      setPostQuery(prev => ({\r\n        ...prev,\r\n        curPage: prev.curPage+1,\r\n      }))\r\n      return;\r\n    }\r\n      \r\n    setPostQuery(prev => ({\r\n      keword: prev.keword,\r\n      pageIndexArray: [...prev.pageIndexArray, res.last_id ],\r\n      curPage: prev.curPage+1,\r\n    }))\r\n  };\r\n  const changeDisplayMode = () => {\r\n    switch (displayMode) {\r\n      case 'column':\r\n        setDisplayMode('row');\r\n        break;\r\n      case 'row':\r\n        setDisplayMode('column');\r\n        break;\r\n      default:\r\n        setDisplayMode('column');\r\n    }    \r\n  }\r\n  // execute once at first rendering\r\n  React.useEffect(() => {\r\n    async function loadLatestPosts(){\r\n      let res = await searchByKeyword(\"\");\r\n      if(res.success === true){\r\n        setPosts(res.result);\r\n        setPostQuery(prev => ({\r\n            keword: prev.keword,\r\n            pageIndexArray: [res.result[0].id+1, res.last_id] ,\r\n            curPage: 0,\r\n          })\r\n        )\r\n      }\r\n    }\r\n    loadLatestPosts();\r\n  },[]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.searchBar}>\r\n        <SearchInput onChange={handleInputChange} handleSubmit={handleSubmit}/>\r\n        <TwoLabelSwitch callback={changeDisplayMode }/>\r\n      </div>\r\n      {displayMode==='column'?\r\n        <div className={classes.cardAreaColumnType}>\r\n          { posts.length ? generatePostsColumn(posts):null  }\r\n        </div>\r\n        :\r\n        <div className={classes.cardAreaRowType}>\r\n          { posts.length ? generatePosts(posts):null  }\r\n        </div>\r\n\r\n      }\r\n      <div className='page-icon'>\r\n        <IconButton onClick={goPrePage}>\r\n          <NavigateBeforeIcon />\r\n        </IconButton>\r\n        <IconButton onClick={goNextPage}>\r\n          <NavigateNextIcon />\r\n        </IconButton>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n\r\n  function generatePosts(arr){\r\n    let output = [];\r\n    for(let i=0 ; i < arr.length; i++)\r\n      output.push(\r\n        <AsciiCard \r\n        context={arr[i].context} \r\n        contentHeight={400} \r\n        asciiHeight={arr[i].height} \r\n        asciiWidth={arr[i].width} \r\n        key={i}\r\n        cardId={i}\r\n        title={arr[i].title}\r\n        like_num={arr[i].like_num}\r\n        views={arr[i].views}\r\n        postId={arr[i].id}\r\n        userName={arr[i].user_name}\r\n        handlePostLike={handlePostLike}\r\n        user={user}\r\n        \r\n        />\r\n      );\r\n    return output;\r\n  }\r\n\r\n  function generatePostsColumn(arr){\r\n    let output = [];\r\n    for(let i=0 ; i < arr.length; i++)\r\n      output.push(\r\n        <AsciiCardColumn \r\n        context={arr[i].context} \r\n        contentHeight={400} \r\n        contentWidth={300}\r\n        asciiHeight={arr[i].height} \r\n        asciiWidth={arr[i].width} \r\n        key={i}\r\n        cardId={i}\r\n        title={arr[i].title}\r\n        like_num={arr[i].like_num}\r\n        views={arr[i].views}\r\n        postId={arr[i].id}\r\n        userName={arr[i].user_name}\r\n        handlePostLike={handlePostLike}\r\n        user={user}\r\n        />\r\n      );\r\n    return output;\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\n\r\nimport CreatePostsPage from '../pages/CreatePostsPage.jsx';\r\nimport Image2AsciiartPage from '../pages/Image2AsciiartPage';\r\nimport HomePage from '../pages/HomePage';\r\nconst iconList = [<HomeIcon/>, <MailIcon/>, <EqualizerIcon/>];\r\nexport {iconList};\r\n\r\nconst routeLists = ['/', '/image2aa','/posts', '/statistics','/posts/create_posts','/posts/search_posts_bytags'];\r\nexport {routeLists};\r\n\r\nconst tabNames = ['Home', 'Posts', 'Statistics'];\r\nexport {tabNames};\r\n\r\nconst configTree = {\r\n  childLists: [\r\n    {\r\n      name:'Home',\r\n      route: '/',\r\n      icon: <HomeIcon/>,\r\n      renderObject: <HomePage/>,\r\n      childLists:[]\r\n    },\r\n    {\r\n      name:'Posts',\r\n      route: '/posts',\r\n      icon: <MailIcon/>,\r\n      renderObject:null,\r\n      childLists:[\r\n        {\r\n          name:'Create a post',\r\n          route: '/posts/create_posts',\r\n          icon: <MailIcon/>,\r\n          renderObject: <CreatePostsPage/>,\r\n          childLists:[]\r\n        },\r\n        {\r\n          name:'Search by tags',\r\n          route: '/posts/search_posts_bytags',\r\n          icon: <MailIcon/>,\r\n          renderObject:null,\r\n          childLists:[]\r\n        },\r\n      ]\r\n    },\r\n    {\r\n      name:'Image to AsciiArt',\r\n      route: '/image2aa',\r\n      icon: <EqualizerIcon/>,\r\n      renderObject:<Image2AsciiartPage/>,\r\n      childLists:[]\r\n    },\r\n    {\r\n      name:'Statistics',\r\n      route: '/statistics',\r\n      icon: <EqualizerIcon/>,\r\n      renderObject:null,\r\n      childLists:[]\r\n    }\r\n  ]\r\n}\r\nexport {configTree};\r\n\r\n/**\r\n * Get routes from a nested array childLists \r\n *\r\n * @returns {Array} a 1-dimension array contains routes and its React elements.\r\n */\r\nexport function getRoutesArray(){\r\n  let storedArray = [];\r\n  return getRoutesRecursively(configTree.childLists, storedArray);\r\n}\r\n\r\n/**\r\n * Get routes from a nested array childLists by recursion\r\n *\r\n * @param {Array} childLists an array contains route objects\r\n * @param {Array} storedArray an array contains temporary data\r\n * \r\n * @returns {Array} a 1-dimension array contains routes and and its React elements.\r\n */\r\nfunction getRoutesRecursively(childLists, storedArray){\r\n  for(let i = 0; i < childLists.length; i++){\r\n    storedArray.push({\r\n      route: childLists[i].route,\r\n      renderObject: childLists[i].renderObject,\r\n    });\r\n    if(childLists[i].childLists.length > 0)\r\n      getRoutesRecursively(childLists[i].childLists, storedArray);\r\n  }\r\n  return storedArray;\r\n}","import React from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Container from '@material-ui/core/Container';\r\nimport { makeStyles , withStyles} from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport favicon from \"../image/favicon_io/favicon.ico\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport {login, getUserProfile, } from '../api/ascii-art-generator-api.js'\r\nimport AuthContext from \"../conponent/AuthContext.jsx\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    //flexWrap: 'wrap',\r\n    \r\n    '& > *': {\r\n      marginTop: \"20%\",\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: theme.spacing(40),\r\n      height: theme.spacing(42),\r\n      borderRadius: theme.spacing(1),\r\n    },\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(1),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    color:\"#2ECC83\",\r\n  },\r\n  form: {\r\n    display: 'inline-block',\r\n    '& .MuiTextField-root': {\r\n      marginTop: theme.spacing(3),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: 200,\r\n    },\r\n    '& .input-label': {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(0),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: 200,\r\n      align: 'left',\r\n    },\r\n  },\r\n  iconButton: {\r\n    padding: 0,\r\n    marginTop: theme.spacing(2),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    textAlign: 'center',\r\n    border: '1px solid gray',\r\n  },\r\n  submitButton: {\r\n    padding: 0,\r\n    marginTop: theme.spacing(4),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    textAlign: 'center',\r\n    width: 200,\r\n    height: 30,\r\n    //border: '1px solid white',\r\n  },\r\n}));\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    color: theme.palette.common.white,\r\n    backgroundColor: \"#2ECC83\",\r\n    '&:hover': {\r\n      backgroundColor: '#23EA8E',\r\n    },\r\n  },\r\n}))(Button);\r\nexport default function LoginPage(props){\r\n  const classes = useStyles();\r\n\r\n  const [username, setUsername] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n  const {user, setUser} = React.useContext(AuthContext);\r\n  const history = useHistory();\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if(username === \"\" || password === \"\")\r\n      return console.log(`username and password are required.`);\r\n    \r\n    console.log(`Username is ${username}`);\r\n    let res = await login(username, password);\r\n\r\n    if(!res.data.success)\r\n      return console.log(`username or password is incorrect.`);\r\n    \r\n    setUser( res.data.result);\r\n    // redirect to /\r\n    history.push(\"/\");\r\n  };\r\n\r\n  \r\n\r\n  const getUser = async (e) => {\r\n    if(!user.access_token)\r\n      return console.log('Please log in first.')\r\n    \r\n    let res = await getUserProfile(user.access_token);\r\n    console.log(res);\r\n  };\r\n\r\n  const handleUsername = (e) => {\r\n    setUsername(e.target.value);\r\n  };\r\n\r\n  const handlePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <Container maxWidth=\"sm\" direction=\"column\">\r\n        \r\n        <div className={classes.root}>\r\n        \r\n          <Paper elevation={3}>\r\n            <Typography variant=\"h6\" align = 'center' className={classes.title} gutterBottom>\r\n              LOG IN\r\n            </Typography>\r\n\r\n            <Divider  variant=\"middle\"/>\r\n            <Grid\r\n              container\r\n              direction=\"column\"\r\n              justify=\"center\"\r\n              alignItems=\"center\"\r\n            >\r\n              \r\n              <IconButton color=\"inherit\" className={classes.iconButton}>\r\n                <Avatar src={favicon } />\r\n              </IconButton>\r\n              <form className={classes.form} onSubmit={handleSubmit} align = 'center' noValidate autoComplete=\"off\">\r\n              \r\n                <TextField\r\n                  required\r\n                  id=\"username\"\r\n                  label=\"Username\"\r\n                  defaultValue=\"\"\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  onChange={handleUsername}\r\n                />\r\n              \r\n                <TextField\r\n                  required\r\n                  id=\"password\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  defaultValue=\"\"\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  onChange={handlePassword}\r\n                />\r\n                \r\n                <ColorButton type=\"submit\" variant=\"contained\"  color=\"primary\" className={classes.submitButton}>\r\n                  Submit\r\n                </ColorButton>\r\n              </form>\r\n              \r\n            </Grid>\r\n          </Paper>\r\n        </div>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Container from '@material-ui/core/Container';\r\nimport { makeStyles , withStyles} from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport favicon from \"../image/favicon_io/favicon.ico\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport {register} from '../api/ascii-art-generator-api.js'\r\nimport AuthContext from \"../conponent/AuthContext.jsx\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      marginTop: \"20%\",\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: theme.spacing(40),\r\n      height: theme.spacing(42),\r\n      borderRadius: theme.spacing(1),\r\n    },\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(1),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    color:\"#2ECC83\",\r\n  },\r\n  form: {\r\n    display: 'inline-block',\r\n    '& .MuiTextField-root': {\r\n      marginTop: theme.spacing(3),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: 200,\r\n    },\r\n    '& .input-label': {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(0),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: 200,\r\n      align: 'left',\r\n    },\r\n  },\r\n  iconButton: {\r\n    padding: 0,\r\n    marginTop: theme.spacing(2),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    textAlign: 'center',\r\n    border: '1px solid gray',\r\n  },\r\n  submitButton: {\r\n    padding: 0,\r\n    marginTop: theme.spacing(4),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    textAlign: 'center',\r\n    width: 200,\r\n    height: 30,\r\n    //border: '1px solid white',\r\n  },\r\n}));\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    color: theme.palette.common.white,\r\n    backgroundColor: \"#2ECC83\",\r\n    '&:hover': {\r\n      backgroundColor: '#23EA8E',\r\n    },\r\n  },\r\n}))(Button);\r\n\r\nexport default function LoginPage(props){\r\n  const classes = useStyles();\r\n\r\n  const [username, setUsername] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n  const [warnMessage, setWarnMessage] = React.useState(\"\");\r\n  \r\n  const history = useHistory();\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if(username.length < 6)\r\n      return setWarnMessage(\"username should be at least 6 characters.\");\r\n    \r\n    if(password.length < 6)\r\n      return setWarnMessage(\"password should be at least 6 characters.\");\r\n    \r\n    console.log(`Username is ${username}`);\r\n    let res = await register(username, password);\r\n\r\n    if(!res.data.success)\r\n      setWarnMessage(res.data.message);\r\n    else\r\n      // redirect to /\r\n      history.push(\"/\");\r\n  };\r\n\r\n  const handleUsername = (e) => {\r\n    setUsername(e.target.value);\r\n  };\r\n\r\n  const handlePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <Container maxWidth=\"sm\" direction=\"column\">\r\n        \r\n        <div className={classes.root}>\r\n        \r\n          <Paper elevation={3}>\r\n            <Typography variant=\"h6\" align = 'center' className={classes.title} gutterBottom>\r\n              Register\r\n            </Typography>\r\n\r\n            <Divider  variant=\"middle\"/>\r\n            <Grid\r\n              container\r\n              direction=\"column\"\r\n              justify=\"center\"\r\n              alignItems=\"center\"\r\n            >\r\n              \r\n              <IconButton color=\"inherit\" className={classes.iconButton}>\r\n                <Avatar src={favicon } />\r\n              </IconButton>\r\n              <form className={classes.form} onSubmit={handleSubmit} align = 'center' noValidate autoComplete=\"off\">\r\n              \r\n                <TextField\r\n                  required\r\n                  id=\"register-username\"\r\n                  label=\"Username\"\r\n                  defaultValue=\"\"\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  onChange={handleUsername}\r\n                />\r\n              \r\n                <TextField\r\n                  required\r\n                  id=\"register-password\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  defaultValue=\"\"\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  onChange={handlePassword}\r\n                />\r\n                <Typography variant=\"body2\" align = 'center' color='secondary'>\r\n                  {warnMessage}\r\n                </Typography>\r\n                <ColorButton type=\"submit\" variant=\"contained\"  color=\"primary\" className={classes.submitButton}>\r\n                  Submit\r\n                </ColorButton>\r\n              </form>\r\n              \r\n            </Grid>\r\n          </Paper>\r\n        </div>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: '#2ECC83',\r\n    width:'100%',\r\n    height:'80px',\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginTop: 'auto',\r\n    marginBottom: 0,\r\n  },\r\n  foot_title: {\r\n    color: 'white',\r\n  }\r\n}));\r\n\r\nexport default function SpacingGrid() {\r\n  \r\n  const classes = useStyles();\r\n\r\n  \r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography variant=\"h6\" gutterBottom className={classes.foot_title}>\r\n        Ascii Art Generator © 2021\r\n      </Typography>\r\n      <Typography variant=\"body2\" gutterBottom className={classes.foot_title}>\r\n        Contact us: hsnuwindband52@gmail.com \r\n      </Typography>\r\n    </div>\r\n  );\r\n}","import React from 'react';\nimport './App.css';\nimport {\n  BrowserRouter as Router,\n  Route,\n} from 'react-router-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport AppBar from './conponent/AppBar';\nimport {iconList, routeLists, tabNames, configTree, getRoutesArray} from './conponent/AppBarConfig';\nimport LoginPage from './pages/LoginPage';\nimport RegisterPage from './pages/RegisterPage';\nimport Footer from './conponent/Footer';\n\nimport AuthContext from \"./conponent/AuthContext.jsx\";\nimport { refreshAccessToken, getUserProfile} from './api/ascii-art-generator-api.js'\n\nfunction App() {\n  const [user, setUser] = React.useState({access_token:\"\"});\n  // when component is initially rendered, isLoadingUser is true.\n  const [isLoadingUser, setIsLoadingUser] = React.useState(true);\n\n  async function checkRefreshToken(){\n    // check if refresh token is alive.\n    let ref_res = await refreshAccessToken();\n    // if refresh token is alive.\n    if(ref_res.data.success){\n      let profile_res = await getUserProfile(ref_res.data.access_token);\n      setIsLoadingUser(false);\n      return setUser({\n        access_token: ref_res.data.access_token,\n        ...profile_res.result\n      });\n    }\n    // if refreshAccessToken() fail, user need to login again.\n    setIsLoadingUser(false);\n    return console.log('Please log in first.');\n  }\n\n  // After component is initially rendered, check refresh token one time.\n  React.useEffect(() => {\n    checkRefreshToken();\n  },[]);\n\n  React.useEffect(() => {\n    const timeout = setTimeout(async() => {\n      checkRefreshToken();\n    }, 300*1000);\n  },[user.access_token]);\n\n  let PathRoutes \n  = (getRoutesArray()).map(\n    (routeObject) => \n      <Route key={routeObject.route} exact path={routeObject.route} render={() => (\n        <div>  \n          {routeObject.renderObject}\n        </div>\n      )}/>\n  );\n\n  return (\n    <AuthContext.Provider value={{user, setUser, isLoadingUser, setIsLoadingUser}}>\n      <CssBaseline />\n      <Router>\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignItems=\"center\"\n          \n        >\n          <AppBar barName={'Ascii Art Generator'} configTree = {configTree} routeList={routeLists}  iconList={iconList} tabNames={tabNames}/>\n          <div className=\"App\">\n          </div>\n        </Grid>\n\n        <div style = {{ 'minHeight': '100vh' , display:'flex', flexDirection:\"column\"}}>\n          <Route key={'/login'} exact path={'/login'} render={() => (\n            <LoginPage/>\n          )}/>\n          <Route key={'/register'} exact path={'/register'} render={() => (\n            <RegisterPage/>\n          )}/>\n          {PathRoutes}\n          <Footer/>\n        </div>\n        \n        \n      </Router>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}