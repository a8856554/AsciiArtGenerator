{"version":3,"sources":["conponent/ListsRecursion.jsx","image/favicon_io/favicon.ico","conponent/AuthContext.jsx","api/ascii-art-generator-api.js","conponent/LoginIcon.jsx","conponent/AppBar.jsx","pages/CreatePostsPage.jsx","conponent/LoadingIcon.jsx","pages/Image2AsciiartPage.jsx","conponent/SearchInput.jsx","conponent/AsciiCardModal.jsx","conponent/AsciiCard.jsx","conponent/AsciiCardColumn.jsx","conponent/TwoLabelSwitch.jsx","image/taipei.jpg","pages/HomePage.jsx","conponent/SearchAutocomplete.jsx","pages/SearchByTagsPage.jsx","conponent/AppBarConfig.jsx","pages/LoginPage.jsx","pages/RegisterPage.jsx","conponent/Footer.jsx","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","nested_0","paddingLeft","spacing","nested_1","nested_2","ListsRecursion","props","childLists","map","listObject","index","ExpandableList","selectedListName","setSelectedListName","setBarName","level","mainName","classes","React","useState","listOpen","setListOpen","ListItem","button","className","value","route","component","Link","to","selected","name","onClick","listName","length","ListItemIcon","icon","ListItemText","primary","Collapse","in","timeout","unmountOnExit","List","disablePadding","Divider","authContext","createContext","axiosClient","axios","create","baseURL","login","user_name","password","a","url","console","log","config","withCredentials","requestBody","post","register","refreshAccessToken","get","delete","getUserProfile","access_token","headers","res","data","generateAsciiArt","image","kernal_zise","image_width","model_name","aaFormData","FormData","append","searchByKeyword","keyword","start","searchByTags","tags","createPost","title","context","width","height","formData","addPostLike","post_id","put","increaseViews","getTags","limit","root","margin","barButton","registerButton","small","large","iconButton","padding","position","backgroundColor","ColorButton","withStyles","color","palette","common","white","Button","LoginIcon","anchorEl","setAnchorEl","useContext","AuthContext","user","setUser","isLoadingUser","setIsLoadingUser","history","useHistory","handleClose","Grid","IconButton","event","currentTarget","Avatar","id","keepMounted","open","Boolean","onClose","MenuItem","logout","push","variant","size","drawerWidth","display","appBar","transition","transitions","easing","sharp","duration","leavingScreen","flexGrow","appBarShift","marginLeft","easeOut","enteringScreen","menuButton","marginRight","hide","drawer","flexShrink","drawerPaper","drawerHeader","alignItems","mixins","toolbar","justifyContent","content","contentShift","createMuiTheme","shape","borderRadius","PersistentDrawerLeft","useTheme","setOpen","barName","CssBaseline","AppBar","clsx","Toolbar","aria-label","edge","container","direction","justify","Typography","noWrap","src","favicon","Drawer","anchor","paper","configTree","marginTop","paddingTop","textArea","marginBottom","whiteSpace","overflow","overflowY","overflowX","resize","submitButton","textAlign","input_title","input_tags","input_area","flexWrap","flexDirection","CreatePostsPage","asciiStr","localStorage","getItem","string","asciiArt","setAsciiArt","handleTextAreaChange","e","ascii","target","handleSubmit","preventDefault","newlineIndexArray","indexOfAll","asciiWidth","findMaxDifference","asciiHeight","removeItem","handleTitle","handleTags","replaceAll","Paper","elevation","align","form","onSubmit","noValidate","autoComplete","TextField","required","label","type","defaultValue","onChange","rows","cols","placeholder","str","substring","outputArray","indexOccurence","indexOf","arr","diff","i","LoadingIcon","minWidth","maxWidth","border","loadingDiv","textDiv","textAreaButton","ImageState","Object","freeze","Image2AsciiartPage","undefined","previewImage","state","Unupload","uploadedFile","setUploadedFile","img","document","querySelector","naturalWidth","naturalHeight","Waiting","Completed","asciiString","processAsciiArray","ascii_art","setItem","selectFile","files","URL","createObjectURL","handleAsciiWidth","Container","gutterBottom","htmlFor","style","accept","alt","asciiArray","output","join","input","flex","divider","HomePage","InputBase","inputProps","orientation","Tooltip","directionTitle","directTo","modal","outline","maxHeight","tagsArea","IconArea","cancelIcon","transform","background","AsciiCardModal","Modal","modalOpen","aria-labelledby","aria-describedby","fontSize","tag","Chip","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","paddingRight","textOverflow","iconDiv","iconBar","asciiContent","cardDiv","boxShadow","AsciiCard","heightScale","contentHeight","mainColor","clicked","setClicked","setModalOpen","handleClickCard","postId","Card","userName","CardContent","CardActions","handlePostLike","cardId","like_num","views","copyValue","el","createElement","body","appendChild","select","execCommand","removeChild","alert","AsciiCardColumn","widthScale","contentWidth","TwoLabelSwitch","checkedA","checkedB","setState","FormControlLabel","control","Switch","checked","callback","searchBar","backgroundArea","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","introductionArea","cardAreaRowType","cardAreaColumnType","setInput","posts","setPosts","keword","pageIndexArray","curPage","postQuery","setPostQuery","displayMode","setDisplayMode","handleInputChange","result","last_id","success","prev","goPrePage","goNextPage","useEffect","loadLatestPosts","split","generatePostsColumn","generatePosts","SearchAutocomplete","Autocomplete","multiple","options","autoWords","option","freeSolo","renderTags","getTagProps","renderInput","params","loadAutofilledWords","iconList","routeLists","tabNames","renderObject","getRoutesArray","getRoutesRecursively","storedArray","LoginPage","username","setUsername","setPassword","Fragment","warnMessage","setWarnMessage","message","foot_title","SpacingGrid","App","checkRefreshToken","ref_res","profile_res","setTimeout","PathRoutes","routeObject","exact","path","render","Provider","routeList","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fa53c45a.chunk.js","sourcesContent":["import React from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { makeStyles} from '@material-ui/core/styles';\r\nimport {Link} from 'react-router-dom';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  nested_0:{\r\n    paddingLeft: theme.spacing(2),\r\n  },\r\n  nested_1:{\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n  nested_2:{\r\n    paddingLeft: theme.spacing(8),\r\n  }\r\n}));\r\n\r\n\r\nexport default function ListsRecursion(props){\r\n  \r\n  return props.childLists.map((listObject, index) => (\r\n    <ExpandableList\r\n      key = {index}\r\n      listObject = {listObject}\r\n      selectedListName = {props.selectedListName}\r\n      setSelectedListName = {props.setSelectedListName}\r\n      setBarName = {props.setBarName}\r\n      level = {props.level}\r\n      mainName = {props.mainName}\r\n    />\r\n  ))\r\n}\r\n\r\nfunction ExpandableList(props){\r\n  const classes = useStyles();\r\n  const [listOpen, setListOpen] = React.useState(false);\r\n\r\n  const handleListOpen = () => {\r\n    setListOpen(!listOpen);\r\n  };\r\n  const handleListSelect = (listName) => {\r\n    props.setSelectedListName(listName);\r\n  };\r\n  \r\n  return (\r\n    <div >\r\n\r\n    <ListItem button \r\n      className={classes[`nested_${props.level}`]}\r\n      key={props.listObject.name} \r\n      value={props.listObject.route} \r\n      component={Link} \r\n      to={props.listObject.route}\r\n      selected={props.selectedListName === props.listObject.name}\r\n      onClick={() => { \r\n        props.setBarName(props.listObject.name === \"Home\" ? props.mainName : props.listObject.name); \r\n        handleListSelect(props.listObject.name);\r\n        if(props.listObject.childLists.length > 0){\r\n          handleListOpen();\r\n        }\r\n          \r\n      }}\r\n    >\r\n      <ListItemIcon>{props.listObject.icon}</ListItemIcon>\r\n      <ListItemText primary={props.listObject.name} />\r\n      {\r\n        props.listObject.childLists.length > 0 ?\r\n          listOpen ?\r\n            <ExpandLess /> : <ExpandMore />\r\n        : null\r\n      }\r\n    </ListItem>\r\n    {\r\n      props.listObject.childLists.length > 0 ?\r\n        <Collapse in={listOpen} timeout=\"auto\" unmountOnExit>\r\n        <List component=\"div\" disablePadding>\r\n          <Divider />\r\n          \r\n          <ListsRecursion\r\n            childLists = {props.listObject.childLists} \r\n            level={props.level+1}\r\n            setSelectedListName = {props.setSelectedListName}\r\n            selectedListName = {props.selectedListName}\r\n            setBarName = {props.setBarName}\r\n            mainName = {props.mainName}\r\n          />\r\n          <Divider />\r\n        </List>\r\n        </Collapse>\r\n      : null\r\n    }\r\n    </div>\r\n  );\r\n  \r\n  \r\n}","export default __webpack_public_path__ + \"static/media/favicon.45e2ab95.ico\";","import { createContext } from \"react\";\r\n\r\n/**\r\n * A React.Context object used to save auth infomation.\r\n */\r\nconst authContext = createContext(null);\r\nexport default authContext;","import axios from 'axios';\r\n\r\n\r\n//production\r\nconst baseURL = \"http://asciiartgenerator-dev.us-west-1.elasticbeanstalk.com/api\"\r\n\r\n\r\n/* \r\n//development\r\nconst baseURL = \"http://localhost:3000/api\"\r\n*/\r\n\r\nconst axiosClient = axios.create({\r\n  baseURL: baseURL,\r\n});\r\n\r\n/**\r\n * send a post request to backend to login\r\n *\r\n * @param {string} user_name\r\n * @param {string} password\r\n * \r\n * @returns {JSON} http response\r\n */\r\nexport async function login(user_name, password) {\r\n  let url = `/login`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n    withCredentials: true\r\n  }\r\n\r\n  let requestBody = \r\n    { user_name: user_name, \r\n      password:password,\r\n    };\r\n  try {\r\n    return axiosClient.post(url, requestBody, config);\r\n  } catch(err) {\r\n    console.log(`Error occurs during loging in :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * send a post request to backend to register\r\n *\r\n * @param {string} user_name\r\n * @param {string} password\r\n * \r\n * @returns {JSON} http response\r\n */\r\n export async function register(user_name, password) {\r\n  let url = `/register`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n  }\r\n\r\n  let requestBody = \r\n    { user_name: user_name, \r\n      password:password,\r\n    };\r\n  try {\r\n    return axiosClient.post(url, requestBody, config);\r\n  } catch(err) {\r\n    console.log(`Error occurs during loging in :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * send a GET request with refresh token in cookies, to get a new access token.\r\n * @returns {JSON} http response\r\n */\r\nexport async function refreshAccessToken(){\r\n  let url = `/accessToken`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n    withCredentials: true\r\n  }\r\n  \r\n  try {\r\n    return axiosClient.get(url, config);\r\n  } catch(err) {\r\n    console.log(`Error occurs during refreshing an access token :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * send a DELETE request to clear refresh_token\r\n * @returns {JSON} http response\r\n */\r\n export async function logout(){\r\n  let url = `/accessToken`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n    withCredentials: true\r\n  }\r\n  \r\n  try {\r\n    return axiosClient.delete(url, config);\r\n  } catch(err) {\r\n    console.log(`Error occurs during deleting the refresh token :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n\r\n\r\n/**\r\n * send a GET request to server. Let server to authenticate the user.\r\n * \r\n * @param {string} access_token a JWT used to get the api authentication.\r\n * \r\n * @returns {Object} If access_token is valid then return { status:\"success\", new_token: \"\"}.\r\n *                   If access_token is expired and refresh_token is valid then return\r\n *                   { status:\"update\", new_token: access_token}  \r\n *                   else, if access_token and refresh_token both are expired , then return \r\n *                   { status:\"fail\", new_token: \"\"}\r\n */\r\nexport async function authenticate(access_token){\r\n  let url = `/accessTokenAuth`;\r\n  console.log(`Making request to: ${url} to get authenticated.`);\r\n\r\n  const config = {\r\n    headers: {\r\n      'authorization': `Bearer ${access_token}`,\r\n    },\r\n  }\r\n  try {\r\n    // send a GET request to determine user's status.\r\n    var user_res = await axiosClient.get(url,config);\r\n  } catch(err) {\r\n    console.log(`Error occurs during authenticating token :` + err);\r\n    throw err;\r\n  }\r\n\r\n  if(user_res.data.success)\r\n    return { status:\"success\", new_token: \"\"};\r\n  \r\n  // if there is no access_token or access_token is expired.\r\n  // try to refresh an access_token.\r\n  let refresh_res = await refreshAccessToken();\r\n\r\n  if(refresh_res.data.success)\r\n    return { status:\"update\", new_token: refresh_res.data.access_token} ;\r\n  \r\n  // if access_token and refresh_token are both expired\r\n  return { status:\"fail\", new_token: \"\"};\r\n}\r\n\r\n/**\r\n * Get user's profile\r\n * \r\n * @param {string} access_token a JWT used to get the api authentication.\r\n * \r\n * @returns {JSON} http response\r\n */\r\nexport async function getUserProfile(access_token) {\r\n  let url = `/user`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n    headers: {\r\n      'authorization': `Bearer ${access_token}`,\r\n    },\r\n    withCredentials: true\r\n  }\r\n  try {\r\n    let res = await axiosClient.get(url,config);\r\n    return res.data;\r\n  } catch(err) {\r\n    console.log(`Error occurs during get user's profile :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * send an image to server to generate an ascii art string.\r\n * \r\n * @param {string} access_token a JWT used to get the api authentication.\r\n * \r\n * @returns {JSON} http response\r\n */\r\n export async function generateAsciiArt(image, kernal_zise, image_width, model_name) {\r\n  let url = `/asciiArt`;\r\n  console.log(`Making Post request to: ${url}`);\r\n\r\n  const aaFormData = new FormData();\r\n  aaFormData.append('image', image);\r\n  aaFormData.append('kernal_zise', kernal_zise);\r\n  aaFormData.append('image_width', image_width);\r\n  aaFormData.append('model_name',  model_name);\r\n\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n    withCredentials: true\r\n  }\r\n  \r\n\r\n  try {\r\n    let res = await axiosClient.post(url, aaFormData, config);\r\n    return res.data;\r\n  } catch(err) {\r\n    console.log(`Error occurs during get user's profile :` + err);\r\n    throw err;\r\n  }\r\n}\r\n/**\r\n * search posts from the latest\r\n * \r\n * \r\n * @returns {JSON} http response\r\n */\r\n export async function searchPosts() {\r\n  let url = `/posts`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  \r\n  try {\r\n    let res = await axiosClient.get(url);\r\n    return res.data;\r\n  } catch(err) {\r\n    console.log(`Error occurs during get user's profile :` + err);\r\n    throw err;\r\n  }\r\n}\r\n/**\r\n * search posts by keyword\r\n * \r\n * @param {string} keyword s keyword string\r\n * @param {number} start the index that query starts from.\r\n * @returns {JSON} http response\r\n */\r\n export async function searchByKeyword( keyword = \"\", start = null) {\r\n  let url = `/posts?search_words=${keyword}`;\r\n  if(keyword === \"\")\r\n    url = `/posts`;\r\n  \r\n  if(start)\r\n    url = url + `?start=${start}`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  \r\n  try {\r\n    let res = await axiosClient.get(url);\r\n    return res.data;\r\n  } catch(err) {\r\n    console.log(`Error occurs during get user's profile :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * search posts by tags\r\n * \r\n * @param {string} tags tags string\r\n * @param {number} start the index that query starts from.\r\n * @returns {JSON} http response\r\n */\r\n export async function searchByTags( tags = \"\", start = null) {\r\n  let url = `/taggedPosts?search_tags=${tags}`;\r\n  if(tags === \"\")\r\n    return;\r\n  \r\n  if(start)\r\n    url = url + `?start=${start}`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  \r\n  try {\r\n    let res = await axiosClient.get(url);\r\n    return res.data;\r\n  } catch(err) {\r\n    console.log(`Error occurs during get user's profile :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * Create a new post\r\n * \r\n * @param {string} access_token a JWT used to get the api authentication.\r\n * @param {string} title the post title\r\n * @param {string} context ascii art string\r\n * @param {string} tags a string contains tags. eg: #tag1#tag2\r\n * @param {number} width width of ascii art\r\n * @param {number} height height of ascii art\r\n * \r\n * @returns {JSON} http response\r\n */\r\n export async function createPost( access_token, title, context , tags, width, height, image=null ) {\r\n  let url = `/posts`;\r\n  console.log(`Making Post request to: ${url}`);\r\n\r\n  const formData = new FormData();\r\n  \r\n  if(image)\r\n    formData.append('image', image);\r\n  formData.append('title',  title);\r\n  formData.append('context',  context);\r\n  formData.append('tags',  tags);\r\n  formData.append('width',  width);\r\n  formData.append('height',  height);\r\n\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n      'authorization': `Bearer ${access_token}`,\r\n    },\r\n  }\r\n  \r\n\r\n  try {\r\n    let res = await axiosClient.post(url, formData, config);\r\n    return res.data;\r\n  } catch(err) {\r\n    console.log(`Error occurs during creating the new post :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * add like to a post\r\n *\r\n * @param {string} access_token a JWT used to get the api authentication.\r\n * @param {string} post_id the post id\r\n * \r\n * @returns {JSON} http response\r\n */\r\n export async function addPostLike(access_token, post_id) {\r\n  if(!access_token)\r\n    return;\r\n\r\n  let url = `/posts/${post_id}/like_num`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n    headers: {\r\n      'authorization': `Bearer ${access_token}`,\r\n    },\r\n  }\r\n\r\n  let requestBody = { };\r\n\r\n  try {\r\n    return axiosClient.put(url, requestBody, config);\r\n  } catch(err) {\r\n    console.log(`Error occurs during loging in :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * increase views of a post\r\n *\r\n * @param {string} post_id the post id\r\n * \r\n * @returns {JSON} http response\r\n */\r\n export async function increaseViews(post_id) {\r\n  \r\n\r\n  let url = `/posts/${post_id}/views`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n  }\r\n\r\n  let requestBody = { };\r\n\r\n  try {\r\n    return axiosClient.put(url, requestBody, config);\r\n  } catch(err) {\r\n    console.log(`Error occurs during loging in :` + err);\r\n    throw err;\r\n  }\r\n}\r\n\r\n/**\r\n * Get tags names\r\n * \r\n * \r\n * @returns {JSON} http response\r\n */\r\n export async function getTags() {\r\n  let url = `/tags`;\r\n  console.log(`Making request to: ${url}`);\r\n\r\n  const config = {\r\n  }\r\n\r\n  let requestBody = { limit: 50 };\r\n  try {\r\n    let res = await axiosClient.get(url,requestBody,config);\r\n    return res.data;\r\n  } catch(err) {\r\n    console.log(`Error occurs during get tags names :` + err);\r\n    throw err;\r\n  }\r\n}","import React from 'react';\r\nimport { makeStyles,  withStyles} from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport {Link} from 'react-router-dom';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport AuthContext from \"./AuthContext.jsx\";\r\nimport {logout} from '../api/ascii-art-generator-api.js'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  barButton: {\r\n    margin: theme.spacing(1),\r\n    //border: '0px solid white',\r\n  },\r\n  registerButton: {\r\n    margin: theme.spacing(1),\r\n    \r\n  },\r\n  small: {\r\n    width: theme.spacing(3),\r\n    height: theme.spacing(3),\r\n  },\r\n  large: {\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7),\r\n  },\r\n  iconButton: {\r\n    padding: 3,\r\n    //border: '3px solid white',\r\n    position: \"relative\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#5DF5AF\" \r\n    }\r\n  },\r\n}));\r\n\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    color: theme.palette.common.white,\r\n    backgroundColor: \"#29D787\",\r\n    '&:hover': {\r\n      backgroundColor: '#23EA8E',\r\n    },\r\n  },\r\n}))(Button);\r\n\r\nexport default function LoginIcon(props){\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const {user, setUser, isLoadingUser, setIsLoadingUser} = React.useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogout = () =>{\r\n    setIsLoadingUser(false);\r\n    // clear user data\r\n    setUser({});\r\n    logout();\r\n    history.push(\"/\");\r\n    setAnchorEl(null);\r\n  } \r\n  \r\n  return(\r\n    user.access_token ?\r\n    (<Grid >\r\n      <IconButton color=\"inherit\" className={classes.iconButton} onClick={handleClick}>\r\n        <Avatar >{user.user_name}</Avatar>\r\n      </IconButton>\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n        <MenuItem onClick={handleClose}>My account</MenuItem>\r\n        <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n      </Menu>\r\n    </Grid>)\r\n    : \r\n    isLoadingUser ? null :\r\n    (<Grid >\r\n      <ColorButton \r\n        variant=\"contained\" \r\n        size=\"small\" \r\n        color=\"primary\" \r\n        className={classes.registerButton}\r\n        value={'/register'} \r\n        component={Link} \r\n        to={'/register'}\r\n      >\r\n        Register\r\n      </ColorButton>\r\n      <Button \r\n        variant=\"outlined\" \r\n        size=\"small\" \r\n        color=\"inherit\" \r\n        className={classes.barButton}\r\n        value={'/login'} \r\n        component={Link} \r\n        to={'/login'}\r\n      >\r\n        Login\r\n      </Button>\r\n    </Grid>)\r\n  )\r\n}","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme, createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport Button from '@material-ui/core/Button';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport ListsRecursion from './ListsRecursion.jsx';\r\nimport favicon from \"../image/favicon_io/favicon.ico\";\r\nimport LoginIcon from \"./LoginIcon.jsx\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    width: '100%',\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    backgroundColor: /*\"#00387B\" \"#5499C7\"*/ \"#2ECC83\" ,\r\n    \r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    backgroundColor: \"#2ECC83\",\r\n  },\r\n  barButton: {\r\n    marginLeft: 'auto',\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  iconButton: {\r\n    padding: 0,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    \r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: 'flex-start',\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n  nested_0:{\r\n    paddingLeft: theme.spacing(2),\r\n  },\r\n  nested_1:{\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n  nested_2:{\r\n    paddingLeft: theme.spacing(8),\r\n  },\r\n  title:{\r\n    flexGrow: 1,\r\n  }\r\n}));\r\nconst iconTheme = createMuiTheme({\r\n  shape: {\r\n    borderRadius: 100,\r\n  }, \r\n});\r\nexport default function PersistentDrawerLeft(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [barName, setBarName] = React.useState(props.barName);\r\n  const mainName = props.barName;\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const [selectedListName, setSelectedListName] = React.useState(\"\");\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open,\r\n        })}\r\n      >\r\n        <Toolbar >\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, open && classes.hide)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          \r\n          <Grid container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\r\n\r\n            <Grid >\r\n              <Typography variant=\"h6\" noWrap={false} >\r\n                {/* <Button color=\"inherit\" className={classes.iconButton} startIcon={<Avatar src={favicon } />} /> */ }\r\n                <IconButton \r\n                  color=\"inherit\" \r\n                  className={classes.iconButton}  \r\n                  component={Link} \r\n                  to={'/'}\r\n                  onClick={()=>setBarName(mainName)}\r\n                >\r\n                  <Avatar src={favicon } />\r\n                </IconButton>\r\n                {barName}\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <LoginIcon />\r\n\r\n          </Grid>\r\n\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"persistent\"\r\n        anchor=\"left\"\r\n        open={open}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div className={classes.drawerHeader}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List disablePadding>\r\n          \r\n          <ListsRecursion\r\n            childLists = {props.configTree.childLists} \r\n            level={0}\r\n            setSelectedListName = {setSelectedListName}\r\n            selectedListName = {selectedListName}\r\n            setBarName = {setBarName}\r\n            mainName = {props.barName}\r\n          />\r\n        </List>\r\n        <Divider />\r\n      </Drawer>\r\n\r\n      <main\r\n        className={clsx(classes.content, {\r\n          [classes.contentShift]: open,\r\n        })}\r\n      >\r\n        \r\n      </main>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport { makeStyles , withStyles} from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport favicon from \"../image/favicon_io/favicon.ico\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport AuthContext from \"../conponent/AuthContext.jsx\";\r\nimport {createPost} from '../api/ascii-art-generator-api.js'\r\nconst useStyles = makeStyles((theme) => ({\r\n  \r\n  root: {\r\n    \r\n    width:'90%',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    padding:'1em',\r\n    '& > *': {\r\n      \r\n      marginTop: \"10%\",\r\n      \r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width:'100%',\r\n      \r\n      //height: theme.spacing(80),\r\n      borderRadius: theme.spacing(1),\r\n    },\r\n  },\r\n  title: {\r\n    \r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    color:\"#2ECC83\",\r\n    paddingTop: theme.spacing(2),\r\n  },\r\n  textArea:{\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    marginTop: theme.spacing(0),\r\n    marginBottom: theme.spacing(2),\r\n    width:'90%',\r\n    whiteSpace:'nowrap',\r\n    overflow:'scroll',\r\n    overflowY: 'scroll',\r\n    overflowX: 'scroll',\r\n    resize: 'none',\r\n  },\r\n  submitButton: {\r\n    padding: 0,\r\n    marginTop: theme.spacing(1),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    marginBottom: theme.spacing(1),\r\n    textAlign: 'center',\r\n    width: '90%',\r\n    height: 30,\r\n    //border: '1px solid white',\r\n  },\r\n  input_title: {\r\n    width:'90%',\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  input_tags: {\r\n    width:'50%',\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  input_area: {\r\n    width:'100%',\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    justifyContent: 'flex-start',\r\n    padding: '5%',\r\n  },\r\n}));\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    color: theme.palette.common.white,\r\n    backgroundColor: \"#2ECC83\",\r\n    '&:hover': {\r\n      backgroundColor: '#23EA8E',\r\n    },\r\n  },\r\n}))(Button);\r\nexport default function CreatePostsPage(props){\r\n  const classes = useStyles();\r\n  const {user, setUser} = React.useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const asciiStr = localStorage.getItem('asciiart_string_tmp') ? localStorage.getItem('asciiart_string_tmp') : '';\r\n  \r\n  const [asciiArt, setAsciiArt] = \r\n  React.useState({\r\n    string: asciiStr,\r\n    width: 100, \r\n    height: 50,\r\n    title: \"\",\r\n    tags: \"\",\r\n  });\r\n\r\n  const handleTextAreaChange = async (e) => {\r\n    setAsciiArt(ascii => ({ \r\n      ...ascii, \r\n      string: e.target.value,\r\n    }));\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if(!user.access_token)\r\n      return console.log('Please log in first.');\r\n\r\n    let newlineIndexArray = indexOfAll(asciiArt.string, '\\n');\r\n    let asciiWidth = findMaxDifference(newlineIndexArray) ;\r\n    let asciiHeight = newlineIndexArray.length + 1;\r\n    console.log(`( width : ${asciiWidth}, height : ${asciiHeight} )`);\r\n    console.log(`title : ${asciiArt.title}, tags : ${asciiArt.tags} `);\r\n\r\n    let res = await createPost( \r\n      user.access_token, \r\n      asciiArt.title, \r\n      asciiArt.string , \r\n      asciiArt.tags,\r\n      asciiWidth,\r\n      asciiHeight\r\n    );\r\n    localStorage.removeItem('asciiart_string_tmp');\r\n    console.log(res);\r\n    // redirect to /\r\n    history.push(\"/\");\r\n  }\r\n  const handleTitle = async (e) => {\r\n    e.preventDefault();\r\n    setAsciiArt(ascii => ({ \r\n      ...ascii, \r\n      title: e.target.value,\r\n    }));\r\n  }\r\n  const handleTags = async (e) => {\r\n    e.preventDefault();\r\n    const tags = e.target.value.replaceAll(' ', '');\r\n    setAsciiArt(ascii => ({ \r\n      ...ascii, \r\n      tags: tags,\r\n    }));\r\n    \r\n  }\r\n  return(\r\n    \r\n        \r\n      <div className={classes.root}>\r\n        \r\n        <Paper elevation={4}>\r\n          <Typography variant=\"h4\" align = 'center' className={classes.title} >\r\n            Create a new post\r\n          </Typography>\r\n\r\n          <Divider  variant=\"middle\"/>\r\n          <form className={classes.form} onSubmit={handleSubmit} align = 'center' noValidate autoComplete=\"off\">\r\n            <Grid\r\n              container\r\n              direction=\"column\"\r\n              justify=\"center\"\r\n              alignItems=\"center\"\r\n            >\r\n              <div className={classes.input_area}>\r\n                <TextField\r\n                  required\r\n                  id=\"post-title\"\r\n                  label=\"Title\"\r\n                  type=\"text\"\r\n                  defaultValue={\"\"}\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  className={classes.input_title}\r\n                  onChange={handleTitle}\r\n                />\r\n                <TextField\r\n                  required\r\n                  id=\"post-tags\"\r\n                  label=\"Tags : eg. #tag1#tag2...\"\r\n                  type=\"text\"\r\n                  defaultValue={\"\"}\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  className={classes.input_tags}\r\n                  onChange={handleTags}\r\n                />\r\n              </div>\r\n              \r\n              <textarea \r\n                rows={asciiArt.height} \r\n                cols={asciiArt.width} \r\n                placeholder={\"\"} \r\n                className={classes.textArea} \r\n                value = {asciiArt.string}\r\n                onChange={handleTextAreaChange}\r\n              /> \r\n              <ColorButton type=\"submit\" variant=\"contained\"  color=\"primary\" className={classes.submitButton}>\r\n                Create a Post\r\n              </ColorButton>,\r\n            </Grid>\r\n          </form>\r\n        </Paper>\r\n      </div>\r\n    \r\n  )\r\n}\r\n\r\n/**\r\n * get all substring's indexes.\r\n * \r\n * @param {string} str the string which you want search substring in.\r\n * @param {string} substring the substring you want to find its index in string.\r\n * \r\n * @returns {array} a array contains substring occurence indexes\r\n */\r\nfunction indexOfAll(str, substring){\r\n  \r\n  let outputArray = [];\r\n\r\n  let indexOccurence = str.indexOf(substring, 0);\r\n\r\n  while(indexOccurence >= 0) {\r\n    outputArray.push(indexOccurence);\r\n\r\n    indexOccurence = str.indexOf(substring, indexOccurence + 1);\r\n  }\r\n  return outputArray;\r\n}\r\n\r\n/**\r\n * find a max difference between each 2 neighbor element\r\n * \r\n * @param {array} arr the array contains n number.\r\n * \r\n * @returns {number} max difference\r\n */\r\n function findMaxDifference(arr){\r\n  \r\n  let diff = 0;\r\n  for(let i = 1; i < arr.length; i++){\r\n    if( arr[i]-arr[i-1] > diff)\r\n      diff = arr[i]-arr[i-1];\r\n  }\r\n  return diff;\r\n}","import './LoadingIcon.css'\r\n\r\nexport default function LoadingIcon(props){\r\n  return(\r\n    \r\n      \r\n    <div className=\"donut-ring\">\r\n      <div className=\"progress\">\r\n        <div className=\"progress2\">\r\n        \r\n          <div className=\"progress-center\">\r\n          \r\n          </div>\r\n          \r\n        </div>\r\n      </div>          \r\n    </div>\r\n   \r\n  )\r\n}\r\n/*\r\n<div class=\"donut-ring\">\r\n  <div class=\"ring gray\"></div>          \r\n</div>\r\n\r\n<pie class=\"ten\"></pie>\r\n\r\n*/","import React from 'react';\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport { makeStyles , withStyles} from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nimport AuthContext from \"../conponent/AuthContext.jsx\";\r\nimport LoadingIcon from '../conponent/LoadingIcon';\r\nimport {generateAsciiArt} from '../api/ascii-art-generator-api.js';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    minWidth: theme.spacing(40),\r\n    '& > *': {\r\n      marginTop: \"20%\",\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      minWidth: theme.spacing(40),\r\n      maxWidth: theme.spacing(40),\r\n      //height: theme.spacing(42),\r\n      borderRadius: theme.spacing(1),\r\n    },\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(1),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    color:\"#2ECC83\",\r\n  },\r\n  form: {\r\n    display: 'inline-block',\r\n    \r\n    '& .MuiTextField-root': {\r\n      marginTop: theme.spacing(3),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: 200,\r\n    },\r\n    '& .input-small': {\r\n      margin:theme.spacing(2),\r\n      width: 100,\r\n      align: 'left',\r\n    },\r\n    '& .preview-div': {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(0),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      \r\n    },\r\n  },\r\n  iconButton: {\r\n    padding: theme.spacing(0.5),\r\n    marginTop: theme.spacing(2),\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    textAlign: 'center',\r\n    border: '1px solid gray',\r\n  },\r\n  submitButton: {\r\n    padding: 0,\r\n    marginTop: theme.spacing(4),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    marginBottom: theme.spacing(2),\r\n    textAlign: 'center',\r\n    width: 200,\r\n    height: 30,\r\n    //border: '1px solid white',\r\n  },\r\n  loadingDiv: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  textDiv:{\r\n    minWidth: theme.spacing(40),\r\n    maxWidth: theme.spacing(100),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    '& > *': {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(1),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  textArea:{\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    marginTop: theme.spacing(0),\r\n    marginBottom: theme.spacing(2),\r\n    overflow:'scroll',\r\n    overflowY: 'scroll',\r\n    overflowX: 'scroll',\r\n  },\r\n  textAreaButton:{\r\n    width: theme.spacing(40),\r\n    height: 30,\r\n    padding: 0,\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    marginBottom: theme.spacing(2),\r\n    textAlign: 'center',  \r\n  },\r\n}));\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    color: theme.palette.common.white,\r\n    backgroundColor: \"#2ECC83\",\r\n    '&:hover': {\r\n      backgroundColor: '#23EA8E',\r\n    },\r\n  },\r\n}))(Button);\r\n\r\nconst ImageState = Object.freeze({\"Unupload\":1, \"Waiting\":2, \"Completed\":3});\r\n\r\nexport default function Image2AsciiartPage(props){\r\n  const classes = useStyles();\r\n  const {user, setUser} = React.useContext(AuthContext);\r\n  const [asciiArt, setAsciiArt] = React.useState({string:\"\", width:30, height:0});\r\n  const [uploadedFile, setUploadedFile] \r\n  = React.useState({\r\n    image: undefined,\r\n    previewImage: undefined,\r\n    state: ImageState.Unupload,\r\n  });\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if(!uploadedFile.image)\r\n      return\r\n\r\n    const img = document.querySelector(\".preview-image\");\r\n    console.log(\"submit\");\r\n    console.log(`width : ${img.naturalWidth}, height : ${img.naturalHeight}`);\r\n\r\n    setUploadedFile(uploadedFile => ({ \r\n      ...uploadedFile, \r\n      state: ImageState.Waiting,\r\n    }));\r\n    let res = await generateAsciiArt(uploadedFile.image, 11, asciiArt.width*30, 'cnn_0');\r\n    //console.log(res)\r\n    setUploadedFile(uploadedFile => ({ \r\n      ...uploadedFile, \r\n      state: ImageState.Completed,\r\n    }));\r\n    let asciiString = processAsciiArray(res.ascii_art);\r\n    setAsciiArt({string: asciiString, width: res.ascii_art[0].length+10, height: res.ascii_art.length})\r\n    localStorage.setItem(\"asciiart_string_tmp\", asciiString);\r\n  };\r\n\r\n  const selectFile = async (e) => {\r\n    setUploadedFile(uploadedFile => ({ \r\n      //...uploadedFile, \r\n      image: e.target.files[0], \r\n      previewImage: URL.createObjectURL(e.target.files[0]),\r\n      state: ImageState.Unupload,\r\n    }));\r\n  };\r\n\r\n  const handleAsciiWidth= async (e) => {\r\n    setAsciiArt(ascii => ({ \r\n      ...ascii, \r\n      width: e.target.value,\r\n    }));\r\n  };\r\n\r\n  const handleTextAreaChange = async (e) => {\r\n    setAsciiArt(ascii => ({ \r\n      ...ascii, \r\n      string: e.target.value,\r\n    }));\r\n  };\r\n  return(\r\n  <div id = 'page' >\r\n    <Container maxWidth={'sm'} direction=\"column\">\r\n        \r\n      <div className={classes.root}>\r\n        \r\n        <Paper elevation={3}>\r\n          <Typography variant=\"h6\" align = 'center' className={classes.title} gutterBottom>\r\n            Generate a new ascii art\r\n          </Typography>\r\n\r\n          <Divider  variant=\"middle\"/>\r\n          <Grid\r\n              container\r\n              direction=\"column\"\r\n              justify=\"center\"\r\n              alignItems=\"center\"\r\n          >\r\n            <form className={classes.form} onSubmit={handleSubmit} align = 'center' noValidate autoComplete=\"off\">\r\n              \r\n              <label htmlFor=\"btn-upload\">\r\n                <input\r\n                  id=\"btn-upload\"\r\n                  name=\"btn-upload\"\r\n                  style={{ display: 'none' }}\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={selectFile} />\r\n                <Button\r\n                  className={classes.iconButton}\r\n                  variant=\"outlined\"\r\n                  component=\"span\" >\r\n                  Choose a Image\r\n                </Button>\r\n              </label>\r\n            \r\n              <div className=\"preview-div\">\r\n                {uploadedFile.previewImage && (\r\n                  <img className=\"preview-image\" src={uploadedFile.previewImage} width={135} alt={uploadedFile.image.name} />\r\n                )}\r\n              </div>\r\n              <div className=\"file-name\">\r\n                {uploadedFile.image? uploadedFile.image.name : null}\r\n              </div>\r\n\r\n              <Grid\r\n                container\r\n                direction=\"row\"\r\n                justify=\"center\"\r\n                alignItems=\"flex-start\"\r\n              >\r\n                <TextField\r\n                  required\r\n                  id=\"ascii-width\"\r\n                  label=\"Number of characters per line\"\r\n                  type=\"number\"\r\n                  defaultValue={30}\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  onChange={handleAsciiWidth}\r\n                />\r\n              </Grid>\r\n\r\n              <ColorButton type=\"submit\" variant=\"contained\"  color=\"primary\" className={classes.submitButton}>\r\n                Submit\r\n              </ColorButton>\r\n            </form>\r\n          </Grid>\r\n        </Paper>\r\n        \r\n      </div>\r\n    </Container>\r\n    \r\n    <div align=\"center\" className={classes.textDiv}>\r\n\r\n      { uploadedFile.state === ImageState.Waiting ?  <LoadingIcon /> : null}\r\n      { asciiArt.string!==\"\" ?\r\n        [<ColorButton type=\"submit\" variant=\"contained\"  color=\"primary\" className={classes.textAreaButton}>\r\n          Create a Post\r\n        </ColorButton>,\r\n        <textarea \r\n          rows={asciiArt.height} \r\n          cols={asciiArt.width} \r\n          placeholder={\"\"} \r\n          className={classes.textArea} \r\n          value = {asciiArt.string}\r\n          onChange={handleTextAreaChange}\r\n        /> ]\r\n        :null\r\n      }\r\n    </div>\r\n\r\n  </div>\r\n  )\r\n}\r\n/**\r\n * send an image to server to generate an ascii art string.\r\n * \r\n * @param {Array} asciiArray a 2D array contains asciiart characters.\r\n * \r\n * @returns {string} return a string of ascii art\r\n */\r\nfunction processAsciiArray(asciiArray){\r\n  let output = [];\r\n  for(let i = 0; i < asciiArray.length; i++){\r\n    let str = asciiArray[i].join('');\r\n    output.push(str);\r\n    output.push('\\n');\r\n  }\r\n  return output.join('');\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport DirectionsIcon from '@material-ui/icons/Directions';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: '2px 4px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    minWidth: theme.spacing(40),\r\n    maxWidth: theme.spacing(80),\r\n  },\r\n  input: {\r\n    marginLeft: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  iconButton: {\r\n    padding: 10,\r\n  },\r\n  divider: {\r\n    height: 28,\r\n    margin: 4,\r\n  },\r\n}));\r\n\r\nexport default function HomePage(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Paper  >\r\n      <form onSubmit={props.handleSubmit} className={classes.root}>\r\n      <InputBase\r\n        className={classes.input}\r\n        placeholder=\"Search Interesting Asciiart\"\r\n        inputProps={{ 'aria-label': 'search asciiart posts' }}\r\n        onChange={props.onChange}\r\n        \r\n      />\r\n      <IconButton type=\"submit\" className={classes.iconButton} aria-label=\"search\">\r\n        <SearchIcon />\r\n      </IconButton>\r\n      <Divider className={classes.divider} orientation=\"vertical\" />\r\n      <Tooltip title={props.directionTitle}>\r\n        <IconButton color=\"primary\" className={classes.iconButton} aria-label=\"directions\" component={Link} \r\n      to={props.directTo}>\r\n          <DirectionsIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      \r\n      </form>\r\n    </Paper>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal:{\r\n    width:'100%',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    padding:'1em',\r\n    outline: 0, // add / remove\r\n    maxHeight: '100%',\r\n    overflowY: 'auto',\r\n    '& > *': {\r\n      width:'90%',\r\n      marginTop: 0,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      borderRadius: theme.spacing(1),\r\n      align: 'center',\r\n    },\r\n  },\r\n  textArea:{\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n    width:'90%',\r\n    height:'30%',\r\n    whiteSpace:'nowrap',\r\n    overflow:'scroll',\r\n    overflowY: 'scroll',\r\n    overflowX: 'scroll',\r\n    resize: 'none',\r\n  },\r\n  tagsArea:{\r\n    width:'90%',\r\n    marginTop: theme.spacing(2),\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'row',\r\n    '& > *': {\r\n      marginLeft: theme.spacing(1),\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n  IconArea:{\r\n    display: 'flex',\r\n    flexWrap: 'no-wrap',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    width:'90%',\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  cancelIcon:{\r\n    '&:hover': {\r\n      transform: 'scale(1.1)',\r\n      background: 'rgba(50, 50, 50, 0.08)',\r\n      borderRadius: theme.spacing(50),\r\n    },\r\n  }\r\n}));\r\nexport default function AsciiCardModal(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Modal\r\n      open={props.modalOpen}\r\n      onClose={props.onClose}\r\n      aria-labelledby=\"simple-modal-title\"\r\n      aria-describedby=\"simple-modal-description\"\r\n    >\r\n      <div className={classes.modal}>\r\n        <Paper elevation={4}>\r\n          <Grid\r\n            container\r\n            direction=\"column\"\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n          <div className={classes.IconArea}>\r\n            <Typography variant=\"h4\" >\r\n              {props.title} \r\n            </Typography> \r\n            <CancelIcon fontSize=\"large\" onClick={props.onClose} className={classes.cancelIcon}/>\r\n          </div>\r\n          <div className={classes.tagsArea}>\r\n            { props.tags.map(function (tag, index) {\r\n                return <Chip label={tag} key={index} />\r\n              }) \r\n            }\r\n          </div>\r\n          <textarea \r\n            rows={40} \r\n            cols={props.asciiWidth} \r\n            placeholder={\"\"} \r\n            className={classes.textArea} \r\n            value = {props.context}\r\n            onChange={()=>{}}\r\n          /> \r\n          </Grid>\r\n        </Paper>\r\n      </div>\r\n    </Modal>\r\n    \r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport VisibilityOutlinedIcon from '@material-ui/icons/VisibilityOutlined';\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport {increaseViews} from '../api/ascii-art-generator-api';\r\nimport AsciiCardModal from './AsciiCardModal';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title:{\r\n    background: 'linear-gradient(160deg, #2ECC83 30%, #4BFC22 80%)',\r\n    color: 'white',\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 16,\r\n    borderBottomRightRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n    fontSize: theme.spacing(2),\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    alignItems: 'baseline',\r\n    justifyContent: 'space-between',\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis',\r\n    \r\n  },\r\n  iconDiv:{\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    '&:hover': {\r\n      background: 'rgba(50, 50, 50, 0.08)',\r\n    },\r\n    '& > #user-avator': {\r\n      height:'1.5rem',\r\n      width:'1.5rem',\r\n      margin:'2px',\r\n    },\r\n    '& > *': {\r\n      margin:'2px',\r\n    },\r\n  },\r\n  iconBar: {\r\n    marginTop: 0,\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    borderBottomLeftRadius: 16,\r\n  },\r\n  asciiContent: {\r\n    height: theme.spacing(50),\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n  },\r\n  cardDiv:{\r\n    margin: theme.spacing(1),\r\n    \r\n    transition: '0.1s',\r\n    '&:hover': {\r\n      transform: 'scale(1.05)',\r\n      boxShadow: `10px 20px 16px 0px rgba(101, 128, 95, 0.35)`,//#DEDEDE\r\n    },\r\n  }\r\n}));\r\n\r\n\r\nexport default function AsciiCard(props) {\r\n  const classes = useStyles();\r\n  const heightScale = props.asciiHeight>(props.contentHeight/20) ? props.contentHeight/(20*props.asciiHeight): 1.0;\r\n  let width = heightScale * props.asciiWidth *8 ;\r\n  width = width > props.contentHeight/2 ?  width : props.contentHeight/2;\r\n  const mainColor = '#2ECC83';\r\n  const [clicked, setClicked] = React.useState(false);\r\n  const [modalOpen, setModalOpen] = React.useState(false);\r\n\r\n  const handleModalOpen = () => {\r\n    setModalOpen(true);\r\n  };\r\n  const handleModalClose = () => {\r\n    setModalOpen(false);\r\n  };\r\n  const handleClickCard = async (e) => {\r\n    if(!clicked){\r\n      console.log(props.postId);\r\n      increaseViews(props.postId);\r\n      setClicked(!clicked);\r\n    }\r\n  }\r\n\r\n  const handleCopy = ()=>{\r\n    const copyValue = props.context;\r\n    const el = document.createElement('textarea');\r\n    el.value = copyValue;\r\n    document.body.appendChild(el);\r\n    el.select();\r\n    document.execCommand('copy');\r\n    document.body.removeChild(el);\r\n    alert('Copy successfully');\r\n  }\r\n  return (\r\n    <div className={classes.cardDiv} onClick={handleClickCard}>\r\n    <Card className={classes.title} style = {{ 'width':width }}>  \r\n      <Typography variant=\"h6\" noWrap={true} style = {{ 'width':width-10 }}>{props.title} </Typography>\r\n      <div className={classes.iconDiv}>\r\n        <Avatar id='user-avator'> \r\n        </Avatar>\r\n        <Typography variant=\"subtitle2\" >\r\n          {props.userName} \r\n        </Typography> \r\n      </div>\r\n     \r\n    </Card>\r\n\r\n    <Card className={classes.asciiContent} onClick={handleModalOpen} style = {{ 'width':width }}>\r\n      <CardContent style = {{ 'height':props.contentHeight , 'marginTop': 0, 'padding':4}}>\r\n        <Typography variant=\"body2\" component={'div'}>\r\n          <pre style = {{  \r\n            'transformOrigin': '0 0',\r\n            'transform': `scale(${heightScale})`}\r\n          }>\r\n          {props.context}\r\n          </pre>\r\n        </Typography>\r\n        \r\n      </CardContent>\r\n      <CardActions>\r\n        \r\n      </CardActions>\r\n    </Card>\r\n    \r\n    <Card className={classes.iconBar} style = {{ 'width':width }}>\r\n      <CardActions>\r\n\r\n        \r\n\r\n        <div className={classes.iconDiv} onClick={(e)=>props.handlePostLike(e, props.postId, props.cardId)}>\r\n          <ThumbUpAltOutlinedIcon style={{ color: mainColor }}/>\r\n          <Typography variant=\"body2\" style={{ color: mainColor }}>\r\n            {props.like_num} \r\n          </Typography> \r\n        </div>\r\n        <div className={classes.iconDiv}>\r\n          <VisibilityOutlinedIcon style={{ color: mainColor}}/>\r\n          <Typography variant=\"body2\" style={{ color: mainColor}}>\r\n            {props.views} \r\n          </Typography> \r\n        </div>\r\n        <div className={classes.iconDiv} onClick={handleCopy }>\r\n          <FileCopyOutlinedIcon style={{ color: mainColor}}/>\r\n          <Typography variant=\"body2\" style={{ color: mainColor}}>\r\n            {\"copy\"} \r\n          </Typography> \r\n        </div>\r\n        \r\n      </CardActions>\r\n    </Card>\r\n    <AsciiCardModal\r\n      modalOpen={modalOpen}\r\n      onClose={handleModalClose}\r\n      title={props.title}\r\n      tags={props.tags}\r\n      asciiWidth={props.asciiWidth}\r\n      context={props.context}\r\n    />\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport VisibilityOutlinedIcon from '@material-ui/icons/VisibilityOutlined';\r\nimport {increaseViews} from '../api/ascii-art-generator-api';\r\nimport AsciiCardModal from './AsciiCardModal';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title:{\r\n    background: 'linear-gradient(160deg, #2ECC83 30%, #4BFC22 80%)',\r\n    color: 'white',\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 16,\r\n    borderBottomRightRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n    fontSize: theme.spacing(2),\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'row',\r\n    alignItems: 'baseline',\r\n    justifyContent: 'space-between',\r\n    \r\n  },\r\n  iconDiv:{\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    borderRadius: '5px',\r\n    '&:hover': {\r\n      background: 'rgba(50, 50, 50, 0.08)',\r\n    },\r\n    '& > #user-avator': {\r\n      height:'1.5rem',\r\n      width:'1.5rem',\r\n      margin:'2px',\r\n    },\r\n    '& > *': {\r\n      margin:'2px',\r\n    },\r\n  },\r\n  iconBar: {\r\n    marginTop: 0,\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    borderBottomLeftRadius: 16,\r\n  },\r\n  asciiContent: {\r\n    height: theme.spacing(50),\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n  },\r\n  cardDiv:{\r\n    margin: theme.spacing(1),\r\n    \r\n    transition: '0.1s',\r\n    '&:hover': {\r\n      transform: 'scale(1.05)',\r\n      boxShadow: `10px 20px 16px 0px rgba(101, 128, 95, 0.35)`,//#DEDEDE\r\n    },\r\n  },\r\n}));\r\n\r\n\r\nexport default function AsciiCardColumn(props) {\r\n  const classes = useStyles();\r\n  const widthScale = props.asciiWidth>(props.contentWidth/10) ? props.contentWidth/(10*props.asciiWidth): 1.0;\r\n  let height = widthScale * props.asciiHeight *20 ;\r\n  \r\n\r\n  \r\n  const mainColor = '#2ECC83';\r\n  const [clicked, setClicked] = React.useState(false);\r\n  const [modalOpen, setModalOpen] = React.useState(false);\r\n\r\n  const handleModalOpen = () => {\r\n    setModalOpen(true);\r\n  };\r\n  const handleModalClose = () => {\r\n    setModalOpen(false);\r\n  };\r\n  const handleClickCard = async (e) => {\r\n    if(!clicked){\r\n      console.log(props.postId);\r\n      increaseViews(props.postId);\r\n      setClicked(!clicked);\r\n    }\r\n  }\r\n  \r\n  const handleCopy = ()=>{\r\n    const copyValue = props.context;\r\n    const el = document.createElement('textarea');\r\n    el.value = copyValue;\r\n    document.body.appendChild(el);\r\n    el.select();\r\n    document.execCommand('copy');\r\n    document.body.removeChild(el);\r\n    alert('Copy successfully');\r\n  }\r\n  \r\n  return (\r\n    <div className={classes.cardDiv} onClick={handleClickCard}>\r\n    <Card className={classes.title} style = {{ 'width':props.contentWidth }}>  \r\n      <Typography variant=\"h6\">{props.title} </Typography>\r\n      <div className={classes.iconDiv}>\r\n        <Avatar id='user-avator'> \r\n        </Avatar>\r\n        <Typography variant=\"subtitle2\" >\r\n          {props.userName} \r\n        </Typography> \r\n      </div>\r\n     \r\n    </Card>\r\n\r\n    <Card className={classes.asciiContent} onClick={handleModalOpen } style = {{ 'width':props.contentWidth ,'height':height}}>\r\n      <CardContent style = {{ 'height':props.contentHeight , 'marginTop': 0, 'padding':4}}>\r\n        <Typography variant=\"body2\" component={'div'}>\r\n          <pre style = {{  \r\n            'transformOrigin': '0 0',\r\n            'transform': `scale(${widthScale})`}\r\n          }>\r\n          {props.context}\r\n          </pre>\r\n        </Typography>\r\n        \r\n      </CardContent>\r\n      <CardActions>\r\n        \r\n      </CardActions>\r\n    </Card>\r\n    \r\n    <Card className={classes.iconBar} style = {{ 'width':props.contentWidth }}>\r\n      <CardActions> \r\n        <div className={classes.iconDiv} onClick={(e)=>props.handlePostLike(e, props.postId, props.cardId)}>\r\n          <ThumbUpAltOutlinedIcon style={{ color: mainColor }}/>\r\n          <Typography variant=\"body2\" style={{ color: mainColor }}>\r\n            {props.like_num} \r\n          </Typography> \r\n        </div>\r\n        <div className={classes.iconDiv}>\r\n          <VisibilityOutlinedIcon style={{ color: mainColor}}/>\r\n          <Typography variant=\"body2\" style={{ color: mainColor}}>\r\n            {props.views} \r\n          </Typography> \r\n        </div>\r\n        <div className={classes.iconDiv} onClick={handleCopy }>\r\n          <FileCopyOutlinedIcon style={{ color: mainColor}}/>\r\n          <Typography variant=\"body2\" style={{ color: mainColor}}>\r\n            {\"copy\"} \r\n          </Typography> \r\n        </div>\r\n        \r\n      </CardActions>\r\n    </Card>\r\n    <AsciiCardModal\r\n      modalOpen={modalOpen}\r\n      onClose={handleModalClose}\r\n      title={props.title}\r\n      tags={props.tags}\r\n      asciiWidth={props.asciiWidth}\r\n      context={props.context}\r\n    />\r\n    \r\n    </div>\r\n  )\r\n}\r\n","\r\nimport React from 'react';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\nexport default function TwoLabelSwitch(props){\r\n  const [state, setState] = React.useState({\r\n    checkedA: true,\r\n    checkedB: true,\r\n  });\r\n\r\n  const handleChange = (event) => {\r\n    setState({ ...state, [event.target.name]: event.target.checked });\r\n    props.callback();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n\r\n      <FormControlLabel\r\n        control={\r\n          <Switch\r\n            checked={state.checkedB}\r\n            onChange={handleChange}\r\n            name=\"checkedB\"\r\n            color=\"primary\"\r\n          />\r\n        }\r\n        label=\"Display Mode\"\r\n      />\r\n\r\n    </div>\r\n  );\r\n}","export default __webpack_public_path__ + \"static/media/taipei.6a8158b6.jpg\";","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport {Link} from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport SearchInput from '../conponent/SearchInput';\r\nimport AsciiCard from '../conponent/AsciiCard';\r\nimport AsciiCardColumn from '../conponent/AsciiCardColumn';\r\nimport TwoLabelSwitch from '../conponent/TwoLabelSwitch';\r\nimport {searchByKeyword,  addPostLike} from '../api/ascii-art-generator-api';\r\nimport AuthContext from \"../conponent/AuthContext.jsx\";\r\nimport './HomePage.css'\r\nimport backgroundImage from '../image/taipei.jpg';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  searchBar: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width:'100%',\r\n    marginTop: \"4em\",\r\n    '& > *': {\r\n      //marginTop: \"4em\",\r\n      marginLeft: theme.spacing(1),\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n  backgroundArea: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    width:'100%',\r\n    height: '400px',\r\n    '-webkit-clip-path':'polygon(0% 0%, 100%  0%, 100% 80%, 30% 100%, 0% 80%)',\r\n    background: `url(${backgroundImage})`,\r\n    \r\n    backgroundPosition: 'center',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundSize: 'cover',\r\n  },\r\n  introductionArea:{\r\n    //backgroundColor: \"rgba(0,0,0,0.3)\",\r\n    height: '70%',\r\n    width:'70%',\r\n    color: 'white',\r\n    display: 'flex',\r\n    flexWrap: 'no-wrap',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    paddingTop: '10%',\r\n    '& > *': {\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      marginBottom: theme.spacing(1),\r\n      ':hover': {\r\n        background: 'rgba(0, 0, 0, 0.3)',\r\n      },\r\n    },\r\n    '& > #uploadButton': {\r\n      '&:hover': {\r\n        background: 'rgba(0, 0, 0, 0.3)',\r\n      },\r\n    },\r\n    \r\n  },\r\n  cardAreaRowType: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'row',\r\n    width:'100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-evenly',\r\n    padding:'1em',\r\n    '& > *': {\r\n      marginTop: \"1em\",\r\n    },\r\n  },\r\n  cardAreaColumnType: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    \r\n    '@media (max-width: 480px)':{\r\n\r\n    },\r\n    '@media (min-width: 768px) and (max-width: 979px)':{\r\n      height:'4000px'\r\n    },\r\n    '@media (min-width: 980px)': {\r\n      height:'3000px'\r\n    },\r\n    '@media (min-width: 1200px)': {\r\n      height:'2000px'\r\n    },\r\n    padding:'1em',\r\n    '& > *': {\r\n      marginTop: \"1em\",\r\n    },\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    width:'100%',\r\n    '& > .page-icon': {\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      marginBottom: theme.spacing(2),\r\n      \r\n    },\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function HomePage() {\r\n  const classes = useStyles();\r\n  const [input, setInput] = React.useState(\"\");\r\n  const [posts, setPosts] = React.useState([]);\r\n  const [postQuery, setPostQuery] = React.useState({keword: '', pageIndexArray: [], curPage: 0});\r\n  const {user} = React.useContext(AuthContext);\r\n  const [displayMode, setDisplayMode] = React.useState(\"column\");\r\n  const [modalOpen, setModalOpen] = React.useState(false);\r\n\r\n  const handleInputChange = async (e) => {\r\n    setInput(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log('search submit');\r\n    let res = await searchByKeyword(input);\r\n    setPosts(res.result);\r\n\r\n    if(res.result.length===0){ \r\n      setPostQuery({\r\n        keword: input,\r\n        pageIndexArray: [],\r\n        curPage: 0,\r\n      })\r\n      return;\r\n    }\r\n  \r\n    setPostQuery({\r\n      keword: input,\r\n      pageIndexArray: [res.result[0].id+1, res.last_id],\r\n      curPage: 0,\r\n    })\r\n    console.log(res);\r\n  }\r\n\r\n  const handlePostLike = async (e, postId, cardId) => {\r\n    e.preventDefault();\r\n    if(!user.access_token)\r\n      return console.log('Please log in first.');\r\n    \r\n    let res = await addPostLike(user.access_token, postId);\r\n\r\n    if(res.data.success){\r\n      posts[cardId].like_num = res.data.result.like_num;\r\n      setPosts(prev =>( [...prev]));\r\n    }\r\n  }\r\n  \r\n  const goPrePage = async (e) => {\r\n    if(postQuery.curPage === 0)\r\n      return;\r\n\r\n    let res = await searchByKeyword(postQuery.keword, postQuery.pageIndexArray[postQuery.curPage-1]);\r\n\r\n    if(res.result.length===0)\r\n      return;\r\n\r\n    setPosts(res.result);\r\n    setPostQuery(prev => ({\r\n      ...prev,\r\n      curPage: prev.curPage>0 ? prev.curPage-1 : prev.curPage,\r\n    }))\r\n  };\r\n\r\n  const goNextPage = async (e) => {\r\n    //if user is at the last page.\r\n    if(postQuery.curPage === postQuery.pageIndexArray.length -1)\r\n      return;\r\n\r\n    let res = await searchByKeyword(postQuery.keword, postQuery.pageIndexArray[postQuery.curPage+1]);\r\n\r\n    if(res.result.length===0)\r\n      return;\r\n    \r\n    console.log(postQuery);\r\n    setPosts(res.result);\r\n\r\n    //if user has reached this page before.\r\n    if(postQuery.curPage < postQuery.pageIndexArray.length-1){\r\n      setPostQuery(prev => ({\r\n        ...prev,\r\n        curPage: prev.curPage+1,\r\n      }))\r\n      return;\r\n    }\r\n      \r\n    setPostQuery(prev => ({\r\n      keword: prev.keword,\r\n      pageIndexArray: [...prev.pageIndexArray, res.last_id ],\r\n      curPage: prev.curPage+1,\r\n    }))\r\n  };\r\n  const changeDisplayMode = () => {\r\n    switch (displayMode) {\r\n      case 'column':\r\n        setDisplayMode('row');\r\n        break;\r\n      case 'row':\r\n        setDisplayMode('column');\r\n        break;\r\n      default:\r\n        setDisplayMode('column');\r\n    }    \r\n  }\r\n\r\n\r\n  // execute once at first rendering\r\n  React.useEffect(() => {\r\n    async function loadLatestPosts(){\r\n      let res = await searchByKeyword(\"\");\r\n      if(res.success === true){\r\n        setPosts(res.result);\r\n        setPostQuery(prev => ({\r\n            keword: prev.keword,\r\n            pageIndexArray: [res.result[0].id+1, res.last_id] ,\r\n            curPage: 0,\r\n          })\r\n        )\r\n      }\r\n    }\r\n    loadLatestPosts();\r\n  },[]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.backgroundArea}>\r\n        <div className={classes.introductionArea}>\r\n          <Typography variant=\"h3\"  >Generate Your Ascii Art Now</Typography>\r\n          <Button \r\n            component={Link} \r\n            to={'/image2aa'}\r\n            variant=\"outlined\" \r\n            size=\"large\" \r\n            color='inherit'\r\n            id='uploadButton'\r\n          >\r\n            Upload Images\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className={classes.searchBar}>\r\n        <SearchInput onChange={handleInputChange} handleSubmit={handleSubmit} directionTitle=\"Search by Tags\" directTo=\"/posts/search_posts_bytags\"/>\r\n        <TwoLabelSwitch callback={changeDisplayMode }/>\r\n      </div>\r\n\r\n      {displayMode==='column'?\r\n        <div className={classes.cardAreaColumnType}>\r\n          { posts.length ? generatePostsColumn(posts):null  }\r\n        </div>\r\n        :\r\n        <div className={classes.cardAreaRowType}>\r\n          { posts.length ? generatePosts(posts):null  }\r\n        </div>\r\n\r\n      }\r\n      \r\n      <div className='page-icon'>\r\n        <IconButton onClick={goPrePage}>\r\n          <NavigateBeforeIcon />\r\n        </IconButton>\r\n        <IconButton onClick={goNextPage}>\r\n          <NavigateNextIcon />\r\n        </IconButton>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n\r\n  function generatePosts(arr){\r\n    let output = [];\r\n    for(let i=0 ; i < arr.length; i++)\r\n      output.push(\r\n        <AsciiCard \r\n        context={arr[i].context} \r\n        contentHeight={400} \r\n        asciiHeight={arr[i].height} \r\n        asciiWidth={arr[i].width} \r\n        key={i}\r\n        cardId={i}\r\n        title={arr[i].title}\r\n        like_num={arr[i].like_num}\r\n        views={arr[i].views}\r\n        postId={arr[i].id}\r\n        userName={arr[i].user_name}\r\n        handlePostLike={handlePostLike}\r\n        user={user}\r\n        tags={arr[i].tags.split(',')}\r\n        \r\n        />\r\n      );\r\n    return output;\r\n  }\r\n\r\n  function generatePostsColumn(arr){\r\n    let output = [];\r\n    for(let i=0 ; i < arr.length; i++)\r\n      output.push(\r\n        <AsciiCardColumn \r\n        context={arr[i].context} \r\n        contentHeight={400} \r\n        contentWidth={300}\r\n        asciiHeight={arr[i].height} \r\n        asciiWidth={arr[i].width} \r\n        key={i}\r\n        cardId={i}\r\n        title={arr[i].title}\r\n        like_num={arr[i].like_num}\r\n        views={arr[i].views}\r\n        postId={arr[i].id}\r\n        userName={arr[i].user_name}\r\n        handlePostLike={handlePostLike}\r\n        user={user}\r\n        tags={arr[i].tags.split(',')}\r\n        />\r\n      );\r\n    return output;\r\n  }\r\n}\r\n\r\n","/* eslint-disable no-use-before-define */\r\nimport React from 'react';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DirectionsIcon from '@material-ui/icons/Directions';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport {Link} from 'react-router-dom';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: '2px 4px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    minWidth: theme.spacing(40),\r\n    maxWidth: theme.spacing(80),\r\n  },\r\n  input: {\r\n    marginLeft: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  iconButton: {\r\n    padding: 10,\r\n  },\r\n  divider: {\r\n    height: 28,\r\n    margin: 4,\r\n  },\r\n}));\r\n\r\nexport default function SearchAutocomplete(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n \r\n    <Paper  >\r\n      <form onSubmit={props.handleSubmit} className={classes.root}>\r\n        <Autocomplete\r\n          className={classes.input}\r\n          multiple\r\n          id=\"tags-filled\"\r\n          options={props.autoWords.map((option) => option.name)}\r\n          defaultValue={[props.autoWords[0].name] }\r\n          freeSolo\r\n          renderTags={(value, getTagProps) =>\r\n            value.map((option, index) => (\r\n              <Chip variant=\"outlined\" label={option} {...getTagProps({ index })} />\r\n            ))\r\n          }\r\n          renderInput={(params) => (\r\n            <TextField {...params}  label=\"Search by tag\" />\r\n          )}\r\n          onChange={props.onChange}\r\n        />\r\n\r\n        <IconButton type=\"submit\" className={classes.iconButton} aria-label=\"search\">\r\n          <SearchIcon />\r\n        </IconButton>\r\n        <Divider className={classes.divider} orientation=\"vertical\" />\r\n        <Tooltip title={props.directionTitle}>\r\n          <IconButton color=\"primary\" className={classes.iconButton} aria-label=\"directions\" component={Link} \r\n          to={props.directTo}>\r\n          <DirectionsIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n    \r\n      </form>\r\n    </Paper>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\n\r\nimport SearchInput from '../conponent/SearchInput';\r\nimport AsciiCard from '../conponent/AsciiCard';\r\nimport AsciiCardColumn from '../conponent/AsciiCardColumn';\r\nimport TwoLabelSwitch from '../conponent/TwoLabelSwitch';\r\nimport SearchAutocomplete from '../conponent/SearchAutocomplete';\r\nimport {searchByTags,  addPostLike, getTags} from '../api/ascii-art-generator-api';\r\nimport AuthContext from \"../conponent/AuthContext.jsx\";\r\nimport './HomePage.css'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  searchBar: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width:'100%',\r\n    marginTop: \"4em\",\r\n    '& > *': {\r\n      //marginTop: \"4em\",\r\n      marginLeft: theme.spacing(1),\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n  cardAreaRowType: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'row',\r\n    width:'100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-evenly',\r\n    padding:'1em',\r\n    '& > *': {\r\n      marginTop: \"1em\",\r\n    },\r\n  },\r\n  cardAreaColumnType: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    \r\n    '@media (max-width: 480px)':{\r\n\r\n    },\r\n    '@media (min-width: 768px) and (max-width: 979px)':{\r\n      height:'4000px'\r\n    },\r\n    '@media (min-width: 980px)': {\r\n      height:'3000px'\r\n    },\r\n    '@media (min-width: 1200px)': {\r\n      height:'2000px'\r\n    },\r\n    padding:'1em',\r\n    '& > *': {\r\n      marginTop: \"1em\",\r\n    },\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    width:'100%',\r\n    '& > .page-icon': {\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      marginBottom: theme.spacing(2),\r\n      \r\n    },\r\n  },\r\n}));\r\n\r\nlet autoWords = [\r\n  {name: '惠惠'},\r\n  {name: 'kobe'},\r\n  {name: '大佛'},\r\n  {name: 'peko'},\r\n  {name: '柯文哲也'},\r\n];\r\n\r\nexport default function HomePage() {\r\n  const classes = useStyles();\r\n  const [input, setInput] = React.useState(\"\");\r\n  const [posts, setPosts] = React.useState([]);\r\n  const [postQuery, setPostQuery] = React.useState({keword: '', pageIndexArray: [], curPage: 0});\r\n  const {user} = React.useContext(AuthContext);\r\n  const [displayMode, setDisplayMode] = React.useState(\"column\");\r\n\r\n  const handleAutocompleteChange = (event, value) => {\r\n    setInput(value.join(' '));\r\n    console.log(input)\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if(input === \"\")\r\n      return;\r\n\r\n    let res = await searchByTags(input);\r\n    setPosts(res.result);\r\n\r\n    if(res.result.length===0){ \r\n      setPostQuery({\r\n        keword: input,\r\n        pageIndexArray: [],\r\n        curPage: 0,\r\n      })\r\n      return;\r\n    }\r\n  \r\n    setPostQuery({\r\n      keword: input,\r\n      pageIndexArray: [res.result[0].id+1, res.last_id],\r\n      curPage: 0,\r\n    })\r\n    console.log(res);\r\n  }\r\n\r\n  const handlePostLike = async (e, postId, cardId) => {\r\n    e.preventDefault();\r\n    if(!user.access_token)\r\n      return console.log('Please log in first.');\r\n    \r\n    let res = await addPostLike(user.access_token, postId);\r\n\r\n    if(res.data.success){\r\n      posts[cardId].like_num = res.data.result.like_num;\r\n      setPosts(prev =>( [...prev]));\r\n    }\r\n  }\r\n  \r\n  const goPrePage = async (e) => {\r\n    if(postQuery.curPage === 0)\r\n      return;\r\n\r\n    let res = await searchByTags(postQuery.keword, postQuery.pageIndexArray[postQuery.curPage-1]);\r\n\r\n    if( !res || res.result.length===0 )\r\n      return;\r\n\r\n    setPosts(res.result);\r\n    setPostQuery(prev => ({\r\n      ...prev,\r\n      curPage: prev.curPage>0 ? prev.curPage-1 : prev.curPage,\r\n    }))\r\n  };\r\n\r\n  const goNextPage = async (e) => {\r\n    //if user is at the last page.\r\n    if(postQuery.curPage === postQuery.pageIndexArray.length -1)\r\n      return;\r\n\r\n    let res = await searchByTags(postQuery.keword, postQuery.pageIndexArray[postQuery.curPage+1]);\r\n\r\n    if(!res || res.result.length===0 )\r\n      return;\r\n    \r\n    console.log(postQuery);\r\n    setPosts(res.result);\r\n\r\n    //if user has reached this page before.\r\n    if(postQuery.curPage < postQuery.pageIndexArray.length-1){\r\n      setPostQuery(prev => ({\r\n        ...prev,\r\n        curPage: prev.curPage+1,\r\n      }))\r\n      return;\r\n    }\r\n      \r\n    setPostQuery(prev => ({\r\n      keword: prev.keword,\r\n      pageIndexArray: [...prev.pageIndexArray, res.last_id ],\r\n      curPage: prev.curPage+1,\r\n    }))\r\n  };\r\n  const changeDisplayMode = () => {\r\n    switch (displayMode) {\r\n      case 'column':\r\n        setDisplayMode('row');\r\n        break;\r\n      case 'row':\r\n        setDisplayMode('column');\r\n        break;\r\n      default:\r\n        setDisplayMode('column');\r\n    }    \r\n  }\r\n  // execute once at first rendering\r\n  React.useEffect(() => {\r\n    \r\n    async function loadAutofilledWords(){\r\n      let res = await getTags();\r\n      if(res.success)\r\n        autoWords = res.result;\r\n    }\r\n\r\n    loadAutofilledWords();\r\n    setInput(autoWords[0].name);\r\n  },[]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.searchBar}>\r\n        \r\n        <SearchAutocomplete \r\n          autoWords={autoWords} \r\n          onChange={handleAutocompleteChange} \r\n          handleSubmit={handleSubmit} \r\n          directionTitle=\"Search by Title\" \r\n          directTo=\"/\"\r\n          defaultValue={autoWords[0].name}\r\n        />\r\n        <TwoLabelSwitch callback={changeDisplayMode }/>\r\n      </div>\r\n      {displayMode==='column'?\r\n        <div className={classes.cardAreaColumnType}>\r\n          { posts.length ? generatePostsColumn(posts):null  }\r\n        </div>\r\n        :\r\n        <div className={classes.cardAreaRowType}>\r\n          { posts.length ? generatePosts(posts):null  }\r\n        </div>\r\n\r\n      }\r\n      <div className='page-icon'>\r\n        <IconButton onClick={goPrePage}>\r\n          <NavigateBeforeIcon />\r\n        </IconButton>\r\n        <IconButton onClick={goNextPage}>\r\n          <NavigateNextIcon />\r\n        </IconButton>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n\r\n  function generatePosts(arr){\r\n    let output = [];\r\n    for(let i=0 ; i < arr.length; i++)\r\n      output.push(\r\n        <AsciiCard \r\n        context={arr[i].context} \r\n        contentHeight={400} \r\n        asciiHeight={arr[i].height} \r\n        asciiWidth={arr[i].width} \r\n        key={i}\r\n        cardId={i}\r\n        title={arr[i].title}\r\n        like_num={arr[i].like_num}\r\n        views={arr[i].views}\r\n        postId={arr[i].id}\r\n        userName={arr[i].user_name}\r\n        handlePostLike={handlePostLike}\r\n        user={user}\r\n        tags={[]}\r\n        />\r\n      );\r\n    return output;\r\n  }\r\n\r\n  function generatePostsColumn(arr){\r\n    let output = [];\r\n    for(let i=0 ; i < arr.length; i++)\r\n      output.push(\r\n        <AsciiCardColumn \r\n        context={arr[i].context} \r\n        contentHeight={400} \r\n        contentWidth={300}\r\n        asciiHeight={arr[i].height} \r\n        asciiWidth={arr[i].width} \r\n        key={i}\r\n        cardId={i}\r\n        title={arr[i].title}\r\n        like_num={arr[i].like_num}\r\n        views={arr[i].views}\r\n        postId={arr[i].id}\r\n        userName={arr[i].user_name}\r\n        handlePostLike={handlePostLike}\r\n        user={user}\r\n        tags={[]}\r\n        />\r\n      );\r\n    return output;\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport PostAddIcon from '@material-ui/icons/PostAdd';\r\nimport ImageSearchIcon from '@material-ui/icons/ImageSearch';\r\nimport TransformIcon from '@material-ui/icons/Transform';\r\n\r\nimport CreatePostsPage from '../pages/CreatePostsPage.jsx';\r\nimport Image2AsciiartPage from '../pages/Image2AsciiartPage';\r\nimport HomePage from '../pages/HomePage';\r\nimport SearchByTagsPage from '../pages/SearchByTagsPage';\r\n\r\nconst iconList = [<HomeIcon/>, <MailIcon/>, <EqualizerIcon/>];\r\nexport {iconList};\r\n\r\nconst routeLists = ['/', '/image2aa','/posts', '/statistics','/posts/create_posts','/posts/search_posts_bytags'];\r\nexport {routeLists};\r\n\r\nconst tabNames = ['Home', 'Posts', 'Statistics'];\r\nexport {tabNames};\r\n\r\nconst configTree = {\r\n  childLists: [\r\n    {\r\n      name:'Home',\r\n      route: '/',\r\n      icon: <HomeIcon/>,\r\n      renderObject: <HomePage/>,\r\n      childLists:[]\r\n    },\r\n    {\r\n      name:'Posts',\r\n      route: '',\r\n      icon: < DescriptionIcon/>,\r\n      renderObject:null,\r\n      childLists:[\r\n        {\r\n          name:'Create a post',\r\n          route: '/posts/create_posts',\r\n          icon: <PostAddIcon/>,\r\n          renderObject: <CreatePostsPage/>,\r\n          childLists:[]\r\n        },\r\n        {\r\n          name:'Search by tags',\r\n          route: '/posts/search_posts_bytags',\r\n          icon: <ImageSearchIcon/>,\r\n          renderObject: <SearchByTagsPage/>,\r\n          childLists:[]\r\n        },\r\n      ]\r\n    },\r\n    {\r\n      name:'Image to AsciiArt',\r\n      route: '/image2aa',\r\n      icon: <TransformIcon/>,\r\n      renderObject:<Image2AsciiartPage/>,\r\n      childLists:[]\r\n    },\r\n    {\r\n      name:'Statistics',\r\n      route: '/statistics',\r\n      icon: <EqualizerIcon/>,\r\n      renderObject:null,\r\n      childLists:[]\r\n    }\r\n  ]\r\n}\r\nexport {configTree};\r\n\r\n/**\r\n * Get routes from a nested array childLists \r\n *\r\n * @returns {Array} a 1-dimension array contains routes and its React elements.\r\n */\r\nexport function getRoutesArray(){\r\n  let storedArray = [];\r\n  return getRoutesRecursively(configTree.childLists, storedArray);\r\n}\r\n\r\n/**\r\n * Get routes from a nested array childLists by recursion\r\n *\r\n * @param {Array} childLists an array contains route objects\r\n * @param {Array} storedArray an array contains temporary data\r\n * \r\n * @returns {Array} a 1-dimension array contains routes and and its React elements.\r\n */\r\nfunction getRoutesRecursively(childLists, storedArray){\r\n  for(let i = 0; i < childLists.length; i++){\r\n    storedArray.push({\r\n      route: childLists[i].route,\r\n      renderObject: childLists[i].renderObject,\r\n    });\r\n    if(childLists[i].childLists.length > 0)\r\n      getRoutesRecursively(childLists[i].childLists, storedArray);\r\n  }\r\n  return storedArray;\r\n}","import React from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Container from '@material-ui/core/Container';\r\nimport { makeStyles , withStyles} from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport favicon from \"../image/favicon_io/favicon.ico\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport {login, getUserProfile, } from '../api/ascii-art-generator-api.js'\r\nimport AuthContext from \"../conponent/AuthContext.jsx\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    //flexWrap: 'wrap',\r\n    \r\n    '& > *': {\r\n      marginTop: \"20%\",\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: theme.spacing(40),\r\n      height: theme.spacing(42),\r\n      borderRadius: theme.spacing(1),\r\n    },\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(1),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    color:\"#2ECC83\",\r\n  },\r\n  form: {\r\n    display: 'inline-block',\r\n    '& .MuiTextField-root': {\r\n      marginTop: theme.spacing(3),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: 200,\r\n    },\r\n    '& .input-label': {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(0),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: 200,\r\n      align: 'left',\r\n    },\r\n  },\r\n  iconButton: {\r\n    padding: 0,\r\n    marginTop: theme.spacing(2),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    textAlign: 'center',\r\n    border: '1px solid gray',\r\n  },\r\n  submitButton: {\r\n    padding: 0,\r\n    marginTop: theme.spacing(4),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    textAlign: 'center',\r\n    width: 200,\r\n    height: 30,\r\n    //border: '1px solid white',\r\n  },\r\n}));\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    color: theme.palette.common.white,\r\n    backgroundColor: \"#2ECC83\",\r\n    '&:hover': {\r\n      backgroundColor: '#23EA8E',\r\n    },\r\n  },\r\n}))(Button);\r\nexport default function LoginPage(props){\r\n  const classes = useStyles();\r\n\r\n  const [username, setUsername] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n  const {user, setUser} = React.useContext(AuthContext);\r\n  const history = useHistory();\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if(username === \"\" || password === \"\")\r\n      return console.log(`username and password are required.`);\r\n    \r\n    console.log(`Username is ${username}`);\r\n    let res = await login(username, password);\r\n\r\n    if(!res.data.success)\r\n      return console.log(`username or password is incorrect.`);\r\n    \r\n    setUser( res.data.result);\r\n    // redirect to /\r\n    history.push(\"/\");\r\n  };\r\n\r\n  \r\n\r\n  const getUser = async (e) => {\r\n    if(!user.access_token)\r\n      return console.log('Please log in first.')\r\n    \r\n    let res = await getUserProfile(user.access_token);\r\n    console.log(res);\r\n  };\r\n\r\n  const handleUsername = (e) => {\r\n    setUsername(e.target.value);\r\n  };\r\n\r\n  const handlePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <Container maxWidth=\"sm\" direction=\"column\">\r\n        \r\n        <div className={classes.root}>\r\n        \r\n          <Paper elevation={3}>\r\n            <Typography variant=\"h6\" align = 'center' className={classes.title} gutterBottom>\r\n              LOG IN\r\n            </Typography>\r\n\r\n            <Divider  variant=\"middle\"/>\r\n            <Grid\r\n              container\r\n              direction=\"column\"\r\n              justify=\"center\"\r\n              alignItems=\"center\"\r\n            >\r\n              \r\n              <IconButton color=\"inherit\" className={classes.iconButton}>\r\n                <Avatar src={favicon } />\r\n              </IconButton>\r\n              <form className={classes.form} onSubmit={handleSubmit} align = 'center' noValidate autoComplete=\"off\">\r\n              \r\n                <TextField\r\n                  required\r\n                  id=\"username\"\r\n                  label=\"Username\"\r\n                  defaultValue=\"\"\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  onChange={handleUsername}\r\n                />\r\n              \r\n                <TextField\r\n                  required\r\n                  id=\"password\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  defaultValue=\"\"\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  onChange={handlePassword}\r\n                />\r\n                \r\n                <ColorButton type=\"submit\" variant=\"contained\"  color=\"primary\" className={classes.submitButton}>\r\n                  Submit\r\n                </ColorButton>\r\n              </form>\r\n              \r\n            </Grid>\r\n          </Paper>\r\n        </div>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Container from '@material-ui/core/Container';\r\nimport { makeStyles , withStyles} from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport favicon from \"../image/favicon_io/favicon.ico\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport {register} from '../api/ascii-art-generator-api.js'\r\nimport AuthContext from \"../conponent/AuthContext.jsx\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      marginTop: \"20%\",\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: theme.spacing(40),\r\n      height: theme.spacing(42),\r\n      borderRadius: theme.spacing(1),\r\n    },\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(1),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    color:\"#2ECC83\",\r\n  },\r\n  form: {\r\n    display: 'inline-block',\r\n    '& .MuiTextField-root': {\r\n      marginTop: theme.spacing(3),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: 200,\r\n    },\r\n    '& .input-label': {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(0),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: 200,\r\n      align: 'left',\r\n    },\r\n  },\r\n  iconButton: {\r\n    padding: 0,\r\n    marginTop: theme.spacing(2),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    textAlign: 'center',\r\n    border: '1px solid gray',\r\n  },\r\n  submitButton: {\r\n    padding: 0,\r\n    marginTop: theme.spacing(4),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    textAlign: 'center',\r\n    width: 200,\r\n    height: 30,\r\n    //border: '1px solid white',\r\n  },\r\n}));\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    color: theme.palette.common.white,\r\n    backgroundColor: \"#2ECC83\",\r\n    '&:hover': {\r\n      backgroundColor: '#23EA8E',\r\n    },\r\n  },\r\n}))(Button);\r\n\r\nexport default function LoginPage(props){\r\n  const classes = useStyles();\r\n\r\n  const [username, setUsername] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n  const [warnMessage, setWarnMessage] = React.useState(\"\");\r\n  \r\n  const history = useHistory();\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if(username.length < 6)\r\n      return setWarnMessage(\"username should be at least 6 characters.\");\r\n    \r\n    if(password.length < 6)\r\n      return setWarnMessage(\"password should be at least 6 characters.\");\r\n    \r\n    console.log(`Username is ${username}`);\r\n    let res = await register(username, password);\r\n\r\n    if(!res.data.success)\r\n      setWarnMessage(res.data.message);\r\n    else\r\n      // redirect to /\r\n      history.push(\"/\");\r\n  };\r\n\r\n  const handleUsername = (e) => {\r\n    setUsername(e.target.value);\r\n  };\r\n\r\n  const handlePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <Container maxWidth=\"sm\" direction=\"column\">\r\n        \r\n        <div className={classes.root}>\r\n        \r\n          <Paper elevation={3}>\r\n            <Typography variant=\"h6\" align = 'center' className={classes.title} gutterBottom>\r\n              Register\r\n            </Typography>\r\n\r\n            <Divider  variant=\"middle\"/>\r\n            <Grid\r\n              container\r\n              direction=\"column\"\r\n              justify=\"center\"\r\n              alignItems=\"center\"\r\n            >\r\n              \r\n              <IconButton color=\"inherit\" className={classes.iconButton}>\r\n                <Avatar src={favicon } />\r\n              </IconButton>\r\n              <form className={classes.form} onSubmit={handleSubmit} align = 'center' noValidate autoComplete=\"off\">\r\n              \r\n                <TextField\r\n                  required\r\n                  id=\"register-username\"\r\n                  label=\"Username\"\r\n                  defaultValue=\"\"\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  onChange={handleUsername}\r\n                />\r\n              \r\n                <TextField\r\n                  required\r\n                  id=\"register-password\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  defaultValue=\"\"\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  onChange={handlePassword}\r\n                />\r\n                <Typography variant=\"body2\" align = 'center' color='secondary'>\r\n                  {warnMessage}\r\n                </Typography>\r\n                <ColorButton type=\"submit\" variant=\"contained\"  color=\"primary\" className={classes.submitButton}>\r\n                  Submit\r\n                </ColorButton>\r\n              </form>\r\n              \r\n            </Grid>\r\n          </Paper>\r\n        </div>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: '#2ECC83',\r\n    width:'100%',\r\n    height:'80px',\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginTop: 'auto',\r\n    marginBottom: 0,\r\n  },\r\n  foot_title: {\r\n    color: 'white',\r\n  }\r\n}));\r\n\r\nexport default function SpacingGrid() {\r\n  \r\n  const classes = useStyles();\r\n\r\n  \r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography variant=\"h6\" gutterBottom className={classes.foot_title}>\r\n        © 2021 Ascii Art Generator \r\n      </Typography>\r\n      <Typography variant=\"body2\" gutterBottom className={classes.foot_title}>\r\n        Contact us: hsnuwindband52@gmail.com \r\n      </Typography>\r\n      \r\n  \r\n    </div>\r\n  );\r\n}","import React from 'react';\nimport './App.css';\nimport {\n  BrowserRouter as Router,\n  Route,\n} from 'react-router-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport AppBar from './conponent/AppBar';\nimport {iconList, routeLists, tabNames, configTree, getRoutesArray} from './conponent/AppBarConfig';\nimport LoginPage from './pages/LoginPage';\nimport RegisterPage from './pages/RegisterPage';\nimport Footer from './conponent/Footer';\n\nimport AuthContext from \"./conponent/AuthContext.jsx\";\nimport { refreshAccessToken, getUserProfile} from './api/ascii-art-generator-api.js'\n\nfunction App() {\n  const [user, setUser] = React.useState({access_token:\"\"});\n  // when component is initially rendered, isLoadingUser is true.\n  const [isLoadingUser, setIsLoadingUser] = React.useState(true);\n\n  async function checkRefreshToken(){\n    // check if refresh token is alive.\n    let ref_res = await refreshAccessToken();\n    // if refresh token is alive.\n    if(ref_res.data.success){\n      let profile_res = await getUserProfile(ref_res.data.access_token);\n      setIsLoadingUser(false);\n      return setUser({\n        access_token: ref_res.data.access_token,\n        ...profile_res.result\n      });\n    }\n    // if refreshAccessToken() fail, user need to login again.\n    setIsLoadingUser(false);\n    return console.log('Please log in first.');\n  }\n\n  // After component is initially rendered, check refresh token one time.\n  React.useEffect(() => {\n    checkRefreshToken();\n  },[]);\n\n  React.useEffect(() => {\n    const timeout = setTimeout(async() => {\n      checkRefreshToken();\n    }, 300*1000);\n  },[user.access_token]);\n\n  let PathRoutes \n  = (getRoutesArray()).map(\n    (routeObject) => \n      <Route key={routeObject.route} exact path={routeObject.route} render={() => (\n        <div>  \n          {routeObject.renderObject}\n        </div>\n      )}/>\n  );\n\n  return (\n    <AuthContext.Provider value={{user, setUser, isLoadingUser, setIsLoadingUser}}>\n      <CssBaseline />\n      <Router>\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignItems=\"center\"\n          \n        >\n          <AppBar barName={'Ascii Art Generator'} configTree = {configTree} routeList={routeLists}  iconList={iconList} tabNames={tabNames}/>\n          <div className=\"App\">\n          </div>\n        </Grid>\n\n        <div style = {{ 'minHeight': '100vh' , display:'flex', flexDirection:\"column\"}}>\n          <Route key={'/login'} exact path={'/login'} render={() => (\n            <LoginPage/>\n          )}/>\n          <Route key={'/register'} exact path={'/register'} render={() => (\n            <RegisterPage/>\n          )}/>\n          {PathRoutes}\n          <Footer/>\n        </div>\n        \n        \n      </Router>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}